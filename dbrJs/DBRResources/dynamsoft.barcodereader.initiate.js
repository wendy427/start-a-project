/*
 Copyright 2017, Dynamsoft Corporation
 @author Dynamsoft R&D Team

 @version 5.1

 @fileoverview Utilities for DWS internal use.
 Copyright 2017, Dynamsoft Corporation
 @author Dynamsoft R&D Team

 @version 5.1

 @fileoverview All polyfills would be put here.
 Copyright 2017, Dynamsoft Corporation
 @author Dynamsoft R&D Team

 @version 5.1

 @fileoverview Encapsulates some cross-browser functions which are associated with event, 
 such as addEvent, removeEvent and detectButton etc.
 Copyright 2017, Dynamsoft Corporation
 @author Dynamsoft R&D Team

 @version 5.1

 @fileoverview XmlHttpRequest wrapper.
 Copyright 2017, Dynamsoft Corporation
 @author Dynamsoft R&D Team

 @version 5.1

 @fileoverview Provide functions to convert json object to string and vice versa.
 1. lib.parse() - Parse a string as JSON and return the value.
 2. lib.stringify() - Return a JSON string corresponding to the specified value.
*/
var $jscomp={scope:{}};$jscomp.defineProperty="function"==typeof Object.defineProperties?Object.defineProperty:function(a,l,b){if(b.get||b.set)throw new TypeError("ES3 does not support getters and setters.");a!=Array.prototype&&a!=Object.prototype&&(a[l]=b.value)};$jscomp.getGlobal=function(a){return"undefined"!=typeof window&&window===a?a:"undefined"!=typeof global&&null!=global?global:a};$jscomp.global=$jscomp.getGlobal(this);$jscomp.SYMBOL_PREFIX="jscomp_symbol_";
$jscomp.initSymbol=function(){$jscomp.initSymbol=function(){};$jscomp.global.Symbol||($jscomp.global.Symbol=$jscomp.Symbol)};$jscomp.symbolCounter_=0;$jscomp.Symbol=function(a){return $jscomp.SYMBOL_PREFIX+(a||"")+$jscomp.symbolCounter_++};
$jscomp.initSymbolIterator=function(){$jscomp.initSymbol();var a=$jscomp.global.Symbol.iterator;a||(a=$jscomp.global.Symbol.iterator=$jscomp.global.Symbol("iterator"));"function"!=typeof Array.prototype[a]&&$jscomp.defineProperty(Array.prototype,a,{configurable:!0,writable:!0,value:function(){return $jscomp.arrayIterator(this)}});$jscomp.initSymbolIterator=function(){}};$jscomp.arrayIterator=function(a){var l=0;return $jscomp.iteratorPrototype(function(){return l<a.length?{done:!1,value:a[l++]}:{done:!0}})};
$jscomp.iteratorPrototype=function(a){$jscomp.initSymbolIterator();a={next:a};a[$jscomp.global.Symbol.iterator]=function(){return this};return a};$jscomp.array=$jscomp.array||{};$jscomp.iteratorFromArray=function(a,l){$jscomp.initSymbolIterator();a instanceof String&&(a+="");var b=0,e={next:function(){if(b<a.length){var r=b++;return{value:l(r,a[r]),done:!1}}e.next=function(){return{done:!0,value:void 0}};return e.next()}};e[Symbol.iterator]=function(){return e};return e};
$jscomp.polyfill=function(a,l,b,e){if(l){b=$jscomp.global;a=a.split(".");for(e=0;e<a.length-1;e++){var r=a[e];r in b||(b[r]={});b=b[r]}a=a[a.length-1];e=b[a];l=l(e);l!=e&&null!=l&&$jscomp.defineProperty(b,a,{configurable:!0,writable:!0,value:l})}};$jscomp.polyfill("Array.prototype.keys",function(a){return a?a:function(){return $jscomp.iteratorFromArray(this,function(a){return a})}},"es6-impl","es3");
$jscomp.checkStringArgs=function(a,l,b){if(null==a)throw new TypeError("The 'this' value for String.prototype."+b+" must not be null or undefined");if(l instanceof RegExp)throw new TypeError("First argument to String.prototype."+b+" must not be a regular expression");return a+""};
$jscomp.polyfill("String.prototype.endsWith",function(a){return a?a:function(a,b){var e=$jscomp.checkStringArgs(this,a,"endsWith");a+="";void 0===b&&(b=e.length);for(var l=Math.max(0,Math.min(b|0,e.length)),v=a.length;0<v&&0<l;)if(e[--l]!=a[--v])return!1;return 0>=v}},"es6-impl","es3");
$jscomp.polyfill("String.prototype.startsWith",function(a){return a?a:function(a,b){var e=$jscomp.checkStringArgs(this,a,"startsWith");a+="";for(var l=e.length,v=a.length,t=Math.max(0,Math.min(b|0,e.length)),D=0;D<v&&t<l;)if(e[t++]!=a[D++])return!1;return D>=v}},"es6-impl","es3");$jscomp.findInternal=function(a,l,b){a instanceof String&&(a=String(a));for(var e=a.length,r=0;r<e;r++){var v=a[r];if(l.call(b,v,r,a))return{i:r,v:v}}return{i:-1,v:void 0}};
$jscomp.polyfill("Array.prototype.find",function(a){return a?a:function(a,b){return $jscomp.findInternal(this,a,b).v}},"es6-impl","es3");var dynamsoft=dynamsoft||{};dynamsoft.lib=dynamsoft.lib||{};
(function(a,l){function b(k){this.__attrs={};this.__attrVals={};for(this.userConfig=k;c;)this.addAttrs(c.ATTRS),c=c.superclass?c.superclass.constructor:null;a.mix(this.__attrs,k)}var e=Object.prototype,r=Array.prototype,v=e.toString,t=window,D=!1,G={},w,x,g,n,m,z;a.mix=w=function(k,a){for(var H in a)k[H]=a[H];return k};n=function(k){return k===l};isDef=function(k){return k!==l};w(a,{isDef:isDef,isUndef:n,isUndefined:n,isNull:function(k){return null===k},isNaN:function(k){return isNaN(k)},type:function(k){return null===
k||k===l?String(k):G[v.call(k)]||"object"},isPlainObject:function(k){if(!k||"object"!==a.type(k)||k.nodeType||k.window==k)return!1;var H,d;try{if((d=k.constructor)&&!e.hasOwnProperty.call(k,"constructor")&&!e.hasOwnProperty.call(d.prototype,"isPrototypeOf"))return!1}catch(Pa){return!1}for(H in k);return n(H)||e.hasOwnProperty.call(k,H)}});z=function(k,H){G["[object "+k+"]"]=H=k.toLowerCase();a["is"+k]=function(k){return a.type(k)===H}};z("Function");a.each=x=function(k,H,d){if(k){var f,h,b=0;f=k.length;
h=n(f)||a.isFunction(k);d=d||null;if(h)for(h=a.keys(k);b<h.length&&(f=h[b],!1!==H.call(d,k[f],f,k));b++);else for(h=k[0];b<f&&!1!==H.call(d,h,b,k);h=k[++b]);}return k};m=["String","Object","Boolean","Number"];Array.isArray?a.isArray=Array.isArray:m.push("Array");x(m,z);n(t.console)||(D=t.console,a.isFunction(D.log)&&a.isFunction(D.error)||(D=!1));w(a,{debug:!1,log:function(k){a.debug&&D&&D.log(k)},error:function(k){a.debug&&D&&D.error(k)},getLogger:function(){var k=a.log;return{warn:k,log:k,info:k,
debug:k}},nil:l,noop:function(){}});w(a,{startsWith:function(k,a){return 0===k.lastIndexOf(a,0)},endsWith:function(k,a){var d=k.length-a.length;return 0<=d&&k.indexOf(a,d)===d},replaceAll:function(k,a,d){return k.replace(eval("/"+a+"/gi"),d)},upperCaseFirst:function(k){return k.charAt(0).toUpperCase()+k.substr(1)},makeArray:function(k){if(null==k)return[];if(a.isArray(k))return k;var d=typeof k.length,f=typeof k;if("number"!==d||k.alert||"string"===f||"function"===f&&!("item"in k&&"number"===d))return[k];
for(var d=[],f=0,h=k.length;f<h;f++)d[f]=k[f];return d}});var q=!{toString:1}.propertyIsEnumerable("toString"),h="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toString toLocaleString valueOf".split(" ");a.keys=Object.keys||function(k){var a=[],d,f;for(d in k)k.hasOwnProperty(d)&&a.push(d);if(q)for(f=h.length-1;0<=f;f--)d=h[f],k.hasOwnProperty(d)&&a.push(d);return a};var p=t.document;m=p&&p.documentElement;var d=p.getElementsByTagName("head")[0]||m,F=p.createElement("script").readyState?
function(k,a){var d=k.onreadystatechange;k.onreadystatechange=function(){var f=k.readyState;if("loaded"===f||"complete"===f)k.onreadystatechange=null,d&&d(),a.call(this)}}:function(k,a){k.addEventListener("load",a,!1);k.addEventListener("error",a,!1)};a.getScript=function(k,f,h){var b;a.isFunction(h)||(h=function(){});if(a.isString(k)&&""!=k)return b=p.createElement("script"),k=["",k].join(""),b.src=k,f&&(b.async=!0),b.charset="utf-8",F(b,h),d.insertBefore(b,d.firstChild),b;h()};a.getCss=function(k,
f){var h,b=f;a.isFunction(b)||(b=!1);if(a.isString(k)&&""!=k)return h=p.createElement("link"),h.href=k,h.rel="stylesheet",h.async=!0,b&&F(h,b),d.insertBefore(h,d.firstChild),h;b&&b()};a.getRandom=function(){for(var k=(new Date).getTime()%1E4,a=[],d,f=0;5>f;f++)d=Math.floor(10*Math.random()),0==f&&0==d?f=-1:a.push(d);10>k?a.push("000"):100>k?a.push("00"):1E3>k&&a.push("0");a.push(k);return a.join("")};w(a,{get:function(a){return p.getElementById(a)},hide:function(k){if(k=a.isString(k)?a.get(k):k)k.style.display=
"none"},show:function(k){if(k=a.isString(k)?a.get(k):k)k.style.display=""},toggle:function(k){if(k=a.isString(k)?a.get(k):k)k.style.display="none"===k.style.display?"":"none"},empty:function(a){if(a)for(;a.firstChild;)a.removeChild(a.firstChild)},getOffset:function(a,d,f){a=a||window.event;f=f||a.target;for(var k=0,h=0,b=0,e=0,H,g,m=!1;f&&!isNaN(f.offsetLeft)&&!isNaN(f.offsetTop);)g=f.scrollLeft,H=f.scrollTop,"BODY"===f.tagName?m?H=g=0:(g|=document.documentElement.scrollLeft,H|=document.documentElement.scrollTop):
"fixed"===f.style.position&&(m=!0),k+=f.offsetLeft-g,h+=f.offsetTop-H,f=f.offsetParent;d&&(b=d.left,e=d.top);k=a.clientX-k-b;h=a.clientY-h-e;return{x:k,y:h}},getElDimensions:function(a,f){var k,d;if(!a)return!1;k=a.style.display;a.style.display="";d=f?{offsetTop:a.offsetTop,offsetLeft:a.offsetLeft,offsetWidth:a.offsetWidth,offsetHeight:a.offsetHeight}:{clientTop:a.clientTop,clientLeft:a.clientLeft,clientWidth:a.clientWidth?a.clientWidth:parseInt(a.style.width)?parseInt(a.style.width):0,clientHeight:a.clientHeight?
a.clientHeight:parseInt(a.style.height)?parseInt(a.style.height):0};a.style.display=k;return d}});z=navigator.userAgent.toLowerCase();var u=navigator.platform.toLowerCase(),M=p.location.protocol,L="https:"===M,M="https:"!==M&&"http:"!==M,B="win32"==u||"win64"==u||"windows"==u,P="mac68k"==u||"macppc"==u||"macintosh"==u||"macintel"==u||"iphone"==u,A=0<=u.indexOf("linux"),u="win64"==u||0<=z.indexOf("WOW64")||0<=z.indexOf("x86_64")||0<=z.indexOf("win64")||0<=z.indexOf("x64"),N=z.indexOf("msie"),J=z.indexOf("trident"),
V=z.indexOf("rv:"),Y=z.indexOf("edge"),y=z.match(/version\/([\d.]+).*safari/),K=y?!0:!1,Q=y?y[1]:0,Z=z.indexOf("firefox"),ca=-1!=Z,S=B&&!ca&&-1!=Y,da=z.indexOf("chrome"),W=!S&&-1!=da,T=B&&!ca&&!S&&!W&&(-1!=N||-1!=J||-1!=V),R="",C=0,la=z.match(/Gecko/)?!0:!1,O=!1,U="",f=!1,ia=t.JSON,X=0;if(S)y=z.slice(Y+5),R=y=y.slice(0,y.indexOf(" ")),y=y.slice(0,y.indexOf(".")),27<=y&&(O=!0);else if(W)y=z.slice(da+7),U=y=y.slice(0,y.indexOf(" ")),y=y.slice(0,y.indexOf(".")),27<=y&&(O=!0);else if(ca)y=z.slice(Z+8),
U=y=y.slice(0,y.indexOf(" ")),y=y.slice(0,y.indexOf(".")),27<=y&&(O=!0);else if(T){-1!=N?(y=z.slice(N+4),R=y=y.slice(0,y.indexOf(";"))):-1!=V?(y=z.slice(V+3),y=y.slice(0,y.indexOf(";")),R=y=y.slice(0,y.indexOf(")"))):-1!=J&&(y=z.slice(J+7),R=y=y.slice(0,y.indexOf(";")));if(""===R||8<R)O=!0;U=y}else K&&(y&&(U=y[1]),y=Q,y=y.slice(0,y.indexOf(".")),7<=y&&(O=!0));if(S||T)p.documentMode?C=p.documentMode:(C=5,p.compatMode&&"CSS1Compat"==p.compatMode&&(C=7));m&&m.querySelector&&(!T||T&&8<U)&&(f=!0);T&&9>
U&&(ia=null);dynamsoft.navInfo=g={host:t,bSSL:L,bFileSystem:M,bWin:B,bMac:P,bLinux:A,isX64:u,bIE:T,bEdge:S,bChrome:W,bFirefox:ca,bSafari:K,bGecko:la,bHTML5Edition:O,strBrowserVersion:U,IEMode:C,bQuerySelectorSupported:f,nativeJson:ia,nodejs:!1,scrollBarWidth:!1};var sa=/^[\s\xa0]+|[\s\xa0]+$/g,pa=String.prototype.trim,qa=r.indexOf,ma=r.filter;w(a,{now:Date.now||function(){return+new Date},guid:function(a){return(a||"")+X++},trim:pa?function(a){return null==a?"":pa.call(a)}:function(a){return null==
a?"":(a+"").replace(sa,"")},filter:ma?function(a,f,d){return ma.call(a,f,d||this)}:function(a,f,d){var k=[];x(a,function(a,h,b){f.call(d||this,a,h,b)&&k.push(a)});return k},indexOf:qa?function(a,f){return qa.call(f,a)}:function(a,f){x(f,function(k,f){if(k===a)return f});return-1}});var ga=function(){if(I)return I;var a="";x(E,function(k){a+=k+"|"});a+="&#(\\d{1,5});";return I=new RegExp(a,"g")},ua=function(){if(ta)return ta;var a="";x(ha,function(k){a+=k+"|"});a=a.slice(0,-1);return ta=new RegExp(a,
"g")},na=function(a){var k=typeof a;return null==a||"object"!==k&&"function"!==k},ea=a.getLogger(),ha={"&amp;":"&","&gt;":">","&lt;":"<","&#x60;":"`","&#x2F;":"/","&quot;":'"',"&#x27;":"'"},E={},ta,I,Ca=/[\-#$\^*()+\[\]{}|\\,.?\s]/g;(function(){for(var a in ha)E[ha[a]]=a})();a.mix(a,{urlEncode:function(a){return encodeURIComponent(String(a))},urlDecode:function(a){return decodeURIComponent(a.replace(/\+/g," "))},fromUnicode:function(a){return a.replace(/\\u([a-f\d]{4})/ig,function(a,k){return String.fromCharCode(parseInt(k,
16))})},escapeHtml:function(a){return(a+"").replace(ua(),function(a){return E[a]})},escapeRegExp:function(a){return a.replace(Ca,"\\$&")},unEscapeHtml:function(a){return a.replace(ga(),function(a,k){return ha[a]||String.fromCharCode(+k)})},param:function(k,f,d,h){f=f||"&";d=d||"=";n(h)&&(h=!0);var b=[],e,g,m,I,E,H=a.urlEncode;for(e in k)if(E=k[e],e=H(e),na(E))b.push(e),isDef(E)&&b.push(d,H(E+"")),b.push(f);else if(a.isArray(E)&&E.length)for(g=0,I=E.length;g<I;++g)m=E[g],na(m)&&(b.push(e,h?H("[]"):
""),isDef(m)&&b.push(d,H(m+"")),b.push(f));b.pop();return b.join("")},unparam:function(k,f,d){if(!a.isString(k)||!(k=a.trim(k)))return{};d=d||"=";var h={},b,e=a.urlDecode;k=k.split(f||"&");for(var g=0,m=k.length;g<m;++g){b=a.indexOf(d,k[g]);if(-1===b)f=e(k[g]),b=l;else{f=e(k[g].substring(0,b));b=k[g].substring(b+1);try{b=e(b)}catch(Ja){ea.error("decodeURIComponent error : "+b),ea.error(Ja)}a.endsWith(f,"[]")&&(f=f.substring(0,f.length-2))}f in h?a.isArray(h[f])?h[f].push(b):h[f]=[h[f],b]:h[f]=b}return h}});
var Da=function(a,f){for(var k=0,d=a.length-1,b=[],h;0<=d;d--)h=a[d],"."!==h&&(".."===h?k++:k?k--:b[b.length]=h);if(f)for(;k--;k)b[b.length]="..";return b=b.reverse()},va=/^(\/?)([\s\S]+\/(?!$)|\/)?((?:\.{1,2}$|[\s\S]+?)?(\.[^.\/]*)?)$/,ja=a.Path={resolve:function(){var k="",f,d=arguments,b,h=0;for(f=d.length-1;0<=f&&!h;f--)b=d[f],a.isString(b)&&b&&(k=b+"/"+k,h="/"===b.charAt(0));k=Da(a.filter(k.split("/"),function(a){return!!a}),!h).join("/");return(h?"/":"")+k||"."},normalize:function(k){var f=
"/"===k.charAt(0),d="/"===k.slice(-1);(k=Da(a.filter(k.split("/"),function(a){return!!a}),!f).join("/"))||f||(k=".");k&&d&&(k+="/");return(f?"/":"")+k},join:function(){var k=a.makeArray(arguments);return ja.normalize(a.filter(k,function(k){return k&&a.isString(k)}).join("/"))},relative:function(k,f){k=ja.normalize(k);f=ja.normalize(f);var d=a.filter(k.split("/"),function(a){return!!a}),b=[],h,e,g=a.filter(f.split("/"),function(a){return!!a});e=Math.min(d.length,g.length);for(h=0;h<e&&d[h]===g[h];h++);
for(e=h;h<d.length;)b.push(".."),h++;b=b.concat(g.slice(e));return b=b.join("/")},basename:function(a,f){var k;k=(a.match(va)||[])[3]||"";f&&k&&k.slice(-1*f.length)===f&&(k=k.slice(0,-1*f.length));return k},dirname:function(a){var k=a.match(va)||[];a=k[1]||"";k=k[2]||"";if(!a&&!k)return".";k&&(k=k.substring(0,k.length-1));return a+k},extname:function(a){return(a.match(va)||[])[4]||""}},aa=function(k){if(k instanceof aa)return k.clone();var f=this;a.mix(f,{scheme:"",userInfo:"",hostname:"",port:"",
path:"",query:"",fragment:""});k=aa.getComponents(k);x(k,function(k,d){k=k||"";if("query"===d)f.query=new fa(k);else{try{k=a.urlDecode(k)}catch(Ia){ea.error(Ia+"urlDecode error : "+k)}f[d]=k}});return f},oa=function(a,f){return encodeURI(a).replace(f,function(a){a=a.charCodeAt(0).toString(16);return"%"+(1===a.length?"0"+a:a)})},wa=function(a,f){return a.toLowerCase()===f.toLowerCase()},fa=function(a){this._query=a||""},ba=function(k){k._queryMap||(k._queryMap=a.unparam(k._query))},ea=a.getLogger(),
Ea=/[#\/\?@]/g,Ka=/[#\?]/g,La=/[#@]/g,Ma=/#/g,Na=RegExp("^(?:([\\w\\d+.-]+):)?(?://(?:([^/?#@]*)@)?([\\w\\d\\-\\u0100-\\uffff.+%]*|\\[[^\\]]+\\])(?::([0-9]+))?)?([^?#]+)?(?:\\?([^#]*))?(?:#(.*))?$"),ja=a.Path,Fa={scheme:1,userInfo:2,hostname:3,port:4,path:5,query:6,fragment:7};fa.prototype={constructor:fa,clone:function(){return new fa(this.toString())},reset:function(a){this._query=a||"";this._queryMap=null;return this},count:function(){var k=0,f,d;ba(this);f=this._queryMap;for(d in f)a.isArray(f[d])?
k+=f[d].length:k++;return k},has:function(k){var f;ba(this);f=this._queryMap;return k?k in f:!a.isEmptyObject(f)},get:function(a){var k;ba(this);k=this._queryMap;return a?k[a]:k},keys:function(){ba(this);return a.keys(this._queryMap)},set:function(k,f){var d;ba(this);d=this._queryMap;a.isString(k)?this._queryMap[k]=f:(k instanceof fa&&(k=k.get()),x(k,function(a,k){d[k]=a}));return this},remove:function(a){ba(this);a?delete this._queryMap[a]:this._queryMap={};return this},add:function(k,f){var d,b;
if(a.isString(k))ba(this),d=this._queryMap,b=d[k],b=n(b)?f:[].concat(b).concat(f),d[k]=b;else for(d in k instanceof fa&&(k=k.get()),k)this.add(d,k[d]);return this},toString:function(k){ba(this);return a.param(this._queryMap,l,l,k)}};aa.prototype={constructor:aa,clone:function(){var a=new aa,f=this;x(Fa,function(k,d){a[d]=f[d]});a.query=a.query.clone();return a},resolve:function(k){a.isString(k)&&(k=new aa(k));var f=0,d,b=this.clone();x("scheme userInfo hostname port path query fragment".split(" "),
function(h){if("path"===h)if(f)b[h]=k[h];else{if(h=k.path)f=1,a.startsWith(h,"/")||(b.hostname&&!b.path?h="/"+h:b.path&&(d=b.path.lastIndexOf("/"),-1!==d&&(h=b.path.slice(0,d+1)+h))),b.path=ja.normalize(h)}else if("query"===h){if(f||k.query.toString())b.query=k.query.clone(),f=1}else if(f||k[h])b[h]=k[h],f=1});return b},getScheme:function(){return this.scheme},setScheme:function(a){this.scheme=a;return this},getHostname:function(){return this.hostname},setHostname:function(a){this.hostname=a;return this},
setUserInfo:function(a){this.userInfo=a;return this},getUserInfo:function(){return this.userInfo},setPort:function(a){this.port=a;return this},getPort:function(){return this.port},setPath:function(a){this.path=a;return this},getPath:function(){return this.path},setQuery:function(k){a.isString(k)&&(a.startsWith(k,"?")&&(k=k.slice(1)),k=new fa(oa(k,La)));this.query=k;return this},getQuery:function(){return this.query},getFragment:function(){return this.fragment},setFragment:function(k){a.startsWith(k,
"#")&&(k=k.slice(1));this.fragment=k;return this},isSameOriginAs:function(a){return wa(this.hostname,a.hostname)&&wa(this.scheme,a.scheme)&&wa(this.port,a.port)},toString:function(k){var f=[],d,b;if(d=this.scheme)f.push(oa(d,Ea)),f.push(":");if(d=this.hostname){f.push("//");if(b=this.userInfo)f.push(oa(b,Ea)),f.push("@");f.push(encodeURIComponent(d));if(b=this.port)f.push(":"),f.push(b)}if(b=this.path)d&&!a.startsWith(b,"/")&&(b="/"+b),b=ja.normalize(b),f.push(oa(b,Ka));if(k=this.query.toString.call(this.query,
k))f.push("?"),f.push(k);if(k=this.fragment)f.push("#"),f.push(oa(k,Ma));return f.join("")}};aa.Query=fa;aa.getComponents=function(a){var k=(a||"").match(Na)||[],f={};x(Fa,function(a,d){f[d]=k[a]});return f};a.Uri=aa;var ka=function(){if(!xa){p&&!g.nodejs&&ya(t,Ga,ka);xa=1;for(var k=0;k<za.length;k++)try{za[k](a)}catch(H){a.log(H.stack||H,"error"),setTimeout(function(){throw H;},0)}}},ea=a.getLogger(),t=g.host,Ha=(p=t.document)&&p.documentElement,xa=0,za=[],Oa=/\S/,Aa=!(!p||!p.addEventListener),Ga=
"load",Ba=Aa?function(a,f,d){a.addEventListener(f,d,!1)}:function(a,f,d){a.attachEvent("on"+f,d)},ya=Aa?function(a,f,d){a.removeEventListener(f,d,!1)}:function(a,f,d){a.detachEvent("on"+f,d)};a.mix(a,{isWindow:function(a){return null!=a&&a==a.window},globalEval:function(a){a&&Oa.test(a)&&(t.execScript?t.execScript(a):t.eval.call(t,a))},ready:function(k){if(xa)try{k(a)}catch(H){a.log(H.stack||H,"error"),setTimeout(function(){throw H;},0)}else za.push(k);return this}});(function(){if(p&&"complete"!==
p.readyState)if(Ba(t,Ga,ka),Aa){var a=function(){ya(p,"DOMContentLoaded",a);ka()};Ba(p,"DOMContentLoaded",a)}else{var f=function(){"complete"===p.readyState&&(ya(p,"readystatechange",f),ka())};Ba(p,"readystatechange",f);var d,b=Ha&&Ha.doScroll;try{d=null===t.frameElement}catch(ra){d=!1}if(b&&d){var h=function(){try{b("left"),ka()}catch(ra){setTimeout(h,40)}};h()}}else ka()})();if(g.bIE)try{p.execCommand("BackgroundImageCache",!1,!0)}catch(k){}a.switchEvent=function(a){a=a||window.event;a.which=null==
a.which?2>a.button?1:4==a.button?2:3:2>a.which?1:2==a.which?2:3;return a};a.currentStyle=function(a,f){return a.currentStyle?a.currentStyle[f]:window.getComputedStyle?(propprop=f.replace(/([A-Z])/g,"-$1"),propprop=f.toLowerCase(),document.defaultView.getComputedStyle(a,null)[f]):null};a.extend=function(a,f){var k=function(){a.apply(this,arguments);f&&f.apply(this,arguments)},d;for(d in a.prototype)k.prototype[d]=a.prototype[d];return k.prototype.constructor=k};a.colorStrToInt=function(a){var f="0x";
if(/^(rgb|RGB)/.test(a)){a=a.replace(/[^\d,.]/g,"").split(",");for(var k=0;3>k;++k){var d=Number(a[k]).toString(16);1==d.length&&(d="0"+d);f+=d}4==a.length?(d=Math.round(255*Number(a[k])).toString(16),1==d.length&&(d="0"+d),f+=d):f+="ff"}else if("transparent"==a)f+="00000000";else if(/^#[0-9a-fA-f]{6}$/.test(a))f+=a.replace(/#/,"")+"ff";else if(/^#[0-9a-fA-f]{3}$/.test(a)){for(k=0;3>k;++k)f+=a[k]+a[k];f+="ff"}else f="-1";return Number(f)};a.IntToColorStr=function(a){if(4294967295<a||0>a)return null;
if(g.bHTML5Edition)a="rgba("+Math.floor(a/16777216)+","+Math.floor(a/65536)%256+","+Math.floor(a/256)%256+","+a%256/255+")";else if(0==a%256)a="transparent";else{for(a=Math.floor(a/256).toString(16);6!=a.length;)a="0"+a;a="#"+a}return a};a.mix(b.prototype,{get:function(a){return a in this.__attrs?this.__attrs[a]:""},set:function(a,f){a in this.__attrs&&(this.__attrs[a]=f)},addAttrs:function(f){a.mix(this.__attrs,f)}});b.extend=function(f){var d;f=f||{};f.constructor&&(d=f.constructor);d=extend(this,
d);a.mix(d,f);return d};a.obj={Attributes:b,customEvent:{fire:function(a){var f=this,d;f.exec=f.exec||{};a=a.toLowerCase();d=r.slice.call(arguments,1);x(f.exec[a]||[],function(a){var k=a.f;a=a.c||f;try{k.apply(a,d)}catch(ra){console.log(ra)}})},on:function(a,f,d){this.exec=this.exec||{};a=a.toLowerCase();this.exec[a]=this.exec[a]||[];this.exec[a].push({f:f,c:d})},off:function(a,f,d){if(d=this.exec)if(a)if(a=a.toLowerCase(),f)for(a=d[a]||[],d=a.length-1;0<=d;d--)a[d]===f&&a.splice(d,1);else d[a]=null;
else this.exec=null}}}})(dynamsoft.lib);
(function(a){function l(a,f,b,h){var e,g,m,E,n,I=f&&f.ownerDocument,p=f?f.nodeType:9;b=b||[];if("string"!==typeof a||!a||1!==p&&9!==p&&11!==p)return b;if(!h){(f?f.ownerDocument||f:Q)!==A&&P(f);f=f||A;if(11!==p&&(E=ua.exec(a)))if(e=E[1])if(9===p)if(g=f.getElementById(e)){if(g.id===e)return b.push(g),b}else return b;else{if(I&&(g=I.getElementById(e))&&y(f,g)&&g.id===e)return b.push(g),b}else{if(E[2])return O.apply(b,f.getElementsByTagName(a)),b;if((e=E[3])&&q.getElementsByClassName&&f.getElementsByClassName)return O.apply(b,
f.getElementsByClassName(e)),b}if(!(!q.qsa||W[a+" "]||J&&J.test(a))){if(1!==p)I=f,n=a;else if("object"!==f.nodeName.toLowerCase()){(m=f.getAttribute("id"))?m=m.replace(na,ea):f.setAttribute("id",m=K);g=d(a);for(e=g.length;e--;)g[e]="#"+m+" "+D(g[e]);n=g.join(",");I=f}if(n)try{return O.apply(b,I.querySelectorAll(n)),b}catch(ba){}finally{m===K&&f.removeAttribute("id")}}}return u(a.replace(X,"$1"),f,b,h)}function b(){function a(d,b){f.push(d+" ")>h.cacheLength&&delete a[f.shift()];return a[d+" "]=b}
var f=[];return a}function e(a){a[K]=!0;return a}function r(a){var f=A.createElement("fieldset");try{return!!a(f)}catch(I){return!1}finally{f.parentNode&&f.parentNode.removeChild(f)}}function v(a,f){var d=f&&a,b=d&&1===a.nodeType&&1===f.nodeType&&a.sourceIndex-f.sourceIndex;if(b)return b;if(d)for(;d=d.nextSibling;)if(d===f)return-1;return a?1:-1}function t(){}function D(a){for(var f=0,d=a.length,b="";f<d;f++)b+=a[f].value;return b}function G(a,f,d){var b=f.dir,h=f.next,e=h||b,g=d&&"parentNode"===
e,m=ca++;return f.first?function(f,d,h){for(;f=f[b];)if(1===f.nodeType||g)return a(f,d,h);return!1}:function(f,d,n){var p,u,l=[Z,m];if(n)for(;f=f[b];){if((1===f.nodeType||g)&&a(f,d,n))return!0}else for(;f=f[b];)if(1===f.nodeType||g)if(u=f[K]||(f[K]={}),u=u[f.uniqueID]||(u[f.uniqueID]={}),h&&h===f.nodeName.toLowerCase())f=f[b]||f;else{if((p=u[e])&&p[0]===Z&&p[1]===m)return l[2]=p[2];u[e]=l;if(l[2]=a(f,d,n))return!0}return!1}}function w(a){return 1<a.length?function(f,d,b){for(var h=a.length;h--;)if(!a[h](f,
d,b))return!1;return!0}:a[0]}function x(a,f,d,b,h){for(var e,g=[],m=0,n=a.length,p=null!=f;m<n;m++)if(e=a[m])if(!d||d(e,b,h))g.push(e),p&&f.push(m);return g}function g(a,d,b,h,m,n){h&&!h[K]&&(h=g(h));m&&!m[K]&&(m=g(m,n));return e(function(e,g,n,p){var u,r,w=[],I=[],F=g.length,q;if(!(q=e)){q=d||"*";for(var E=n.nodeType?[n]:n,X=[],t=0,v=E.length;t<v;t++)l(q,E[t],X);q=X}q=!a||!e&&d?q:x(q,w,a,n,p);E=b?m||(e?a:F||h)?[]:g:q;b&&b(q,E,n,p);if(h)for(u=x(E,I),h(u,[],n,p),n=u.length;n--;)if(r=u[n])E[I[n]]=!(q[I[n]]=
r);if(e){if(m||a){if(m){u=[];for(n=E.length;n--;)(r=E[n])&&u.push(q[n]=r);m(null,E=[],u,p)}for(n=E.length;n--;)(r=E[n])&&-1<(u=m?f(e,r):w[n])&&(e[u]=!(g[u]=r))}}else E=x(E===g?E.splice(F,E.length):E),m?m(null,g,E,p):O.apply(g,E)})}function n(a){var d,b,e,m=a.length,u=h.relative[a[0].type];b=u||h.relative[" "];for(var p=u?1:0,l=G(function(a){return a===d},b,!0),r=G(function(a){return-1<f(d,a)},b,!0),q=[function(a,f,b){a=!u&&(b||f!==M)||((d=f).nodeType?l(a,f,b):r(a,f,b));d=null;return a}];p<m;p++)if(b=
h.relative[a[p].type])q=[G(w(q),b)];else{b=h.filter[a[p].type].apply(null,a[p].matches);if(b[K]){for(e=++p;e<m&&!h.relative[a[e].type];e++);return g(1<p&&w(q),1<p&&D(a.slice(0,p-1).concat({value:" "===a[p-2].type?"*":""})).replace(X,"$1"),b,p<e&&n(a.slice(p,e)),e<m&&n(a=a.slice(e)),e<m&&D(a))}q.push(b)}return w(q)}function m(a,f){var d=0<f.length,b=0<a.length,g=function(e,g,m,n,p){var u,r,q,w=0,F="0",E=e&&[],I=[],X=M,t=e||b&&h.find.TAG("*",p),v=Z+=null==X?1:Math.random()||.1,ia=t.length;for(p&&(M=
g===A||g||p);F!==ia&&null!=(u=t[F]);F++){if(b&&u){r=0;g||u.ownerDocument===A||(P(u),m=!1);for(;q=a[r++];)if(q(u,g||A,m)){n.push(u);break}p&&(Z=v)}d&&((u=!q&&u)&&w--,e&&E.push(u))}w+=F;if(d&&F!==w){for(r=0;q=f[r++];)q(E,I,g,m);if(e){if(0<w)for(;F--;)E[F]||I[F]||(I[F]=C.call(n));I=x(I)}O.apply(n,I);p&&!e&&0<I.length&&1<w+f.length&&l.uniqueSort(n)}p&&(Z=v,M=X);return E};return d?e(g):g}var z=RegExp,q,h,p,d,F,u,M,L,B,P,A,N,J,V,Y,y,K="dws_"+1*new Date,Q=window.document,Z=0,ca=0,S=b(),da=b(),W=b(),T=function(a,
f){a===f&&(B=!0);return 0},R=[],C=R.pop,la=R.push,O=R.push,U=R.slice,f=function(a,f){for(var d=0,b=a.length;d<b;d++)if(a[d]===f)return d;return-1},ia=new z("[\\x20\\t\\r\\n\\f]+","g"),X=new z("^[\\x20\\t\\r\\n\\f]+|((?:^|[^\\\\])(?:\\\\.)*)[\\x20\\t\\r\\n\\f]+$","g"),sa=new z("^[\\x20\\t\\r\\n\\f]*,[\\x20\\t\\r\\n\\f]*"),pa=new z("^[\\x20\\t\\r\\n\\f]*([>+~]|[\\x20\\t\\r\\n\\f])[\\x20\\t\\r\\n\\f]*"),qa=new z("=[\\x20\\t\\r\\n\\f]*([^\\]'\"]*?)[\\x20\\t\\r\\n\\f]*\\]","g");new z("^(?:\\\\.|[\\w-]|[^\x00-\\xa0])+$");
var ma={ID:new z("^#((?:\\\\.|[\\w-]|[^\x00-\\xa0])+)"),CLASS:new z("^\\.((?:\\\\.|[\\w-]|[^\x00-\\xa0])+)"),TAG:new z("^((?:\\\\.|[\\w-]|[^\x00-\\xa0])+|[*])"),ATTR:new z("^\\[[\\x20\\t\\r\\n\\f]*((?:\\\\.|[\\w-]|[^\x00-\\xa0])+)(?:[\\x20\\t\\r\\n\\f]*([*^$|!~]?=)[\\x20\\t\\r\\n\\f]*(?:'((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\"|((?:\\\\.|[\\w-]|[^\x00-\\xa0])+))|)[\\x20\\t\\r\\n\\f]*\\]"),needsContext:new z("^[\\x20\\t\\r\\n\\f]*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\([\\x20\\t\\r\\n\\f]*((?:-\\d)?\\d*)[\\x20\\t\\r\\n\\f]*\\)|)(?=[^-]|$)",
"i")},ga=/^[^{]+\{\s*\[native \w/,ua=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,na=/([\0-\x1f\x7f]|^-?\d)|^-$|[^\0-\x1f\x7f-\uFFFF\w-]/g,ea=function(a,f){return f?"\x00"===a?"\ufffd":a.slice(0,-1)+"\\"+a.charCodeAt(a.length-1).toString(16)+" ":"\\"+a},ha=function(){P()};try{O.apply(R=U.call(Q.childNodes),Q.childNodes),R[Q.childNodes.length].nodeType}catch(E){O={apply:R.length?function(a,f){la.apply(a,U.call(f))}:function(a,f){for(var d=a.length,b=0;a[d++]=f[b++];);a.length=d-1}}}q=l.support={};P=l.setDocument=
function(a){var d;a=a?a.ownerDocument||a:Q;if(a===A||9!==a.nodeType||!a.documentElement)return A;A=a;N=A.documentElement;Q!==A&&(d=A.defaultView)&&d.top!==d&&(d.addEventListener?d.addEventListener("unload",ha,!1):d.attachEvent&&d.attachEvent("onunload",ha));q.attributes=r(function(a){a.className="i";return!a.getAttribute("className")});q.getElementsByTagName=r(function(a){a.appendChild(A.createComment(""));return!a.getElementsByTagName("*").length});q.getElementsByClassName=ga.test(A.getElementsByClassName);
q.getById=r(function(a){N.appendChild(a).id=K;return!A.getElementsByName||!A.getElementsByName(K).length});h.filter.ID=q.getById?function(a){return function(f){return f.getAttribute("id")===a}}:function(a){var f=new z(["^",a,"$"].join(""),"g");return function(a){return(a="undefined"!==typeof a.getAttributeNode&&a.getAttributeNode("id"))&&f.test(a.value)}};h.find.TAG=q.getElementsByTagName?function(a,f){if("undefined"!==typeof f.getElementsByTagName)return f.getElementsByTagName(a);if(q.qsa)return f.querySelectorAll(a)}:
function(a,f){var d,b=[],h=0,e=f.getElementsByTagName(a);if("*"===a){for(;d=e[h++];)1===d.nodeType&&b.push(d);return b}return e};h.find.CLASS=q.getElementsByClassName&&function(a,f){if("undefined"!==typeof f.getElementsByClassName)return f.getElementsByClassName(a)};V=[];J=[];if(q.qsa=ga.test(A.querySelectorAll))r(function(a){N.appendChild(a).innerHTML="<a id='"+K+"'></a><select id='"+K+"-\r\\' msallowcapture=''><option selected=''></option></select>";a.querySelectorAll("[msallowcapture^='']").length&&
J.push("[*^$]=[\\x20\\t\\r\\n\\f]*(?:''|\"\")");a.querySelectorAll("[selected]").length||J.push("\\[[\\x20\\t\\r\\n\\f]*(?:value|checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped)");a.querySelectorAll("[id~="+K+"-]").length||J.push("~=");a.querySelectorAll(":checked").length||J.push(":checked");a.querySelectorAll("a#"+K+"+*").length||J.push(".#.+[+~]")}),r(function(a){a.innerHTML="<a href='' disabled='disabled'></a><select disabled='disabled'><option/></select>";
var f=A.createElement("input");f.setAttribute("type","hidden");a.appendChild(f).setAttribute("name","D");a.querySelectorAll("[name=d]").length&&J.push("name[\\x20\\t\\r\\n\\f]*[*^$|!~]?=");2!==a.querySelectorAll(":enabled").length&&J.push(":enabled",":disabled");N.appendChild(a).disabled=!0;2!==a.querySelectorAll(":disabled").length&&J.push(":enabled",":disabled");a.querySelectorAll("*,:x");J.push(",.*:")});(q.matchesSelector=ga.test(Y=N.matches||N.webkitMatchesSelector||N.mozMatchesSelector||N.oMatchesSelector||
N.msMatchesSelector))&&r(function(a){q.disconnectedMatch=Y.call(a,"*");Y.call(a,"[s!='']:x")});J=J.length&&new z(J.join("|"));V=V.length&&new z(V.join("|"));y=(d=ga.test(N.compareDocumentPosition))||ga.test(N.contains)?function(a,f){var d=9===a.nodeType?a.documentElement:a,b=f&&f.parentNode;return a===b||!!(b&&1===b.nodeType&&(d.contains?d.contains(b):a.compareDocumentPosition&&a.compareDocumentPosition(b)&16))}:function(a,f){if(f)for(;f=f.parentNode;)if(f===a)return!0;return!1};T=d?function(a,d){if(a===
d)return B=!0,0;var b=!a.compareDocumentPosition-!d.compareDocumentPosition;if(b)return b;b=(a.ownerDocument||a)===(d.ownerDocument||d)?a.compareDocumentPosition(d):1;return b&1||!q.sortDetached&&d.compareDocumentPosition(a)===b?a===A||a.ownerDocument===Q&&y(Q,a)?-1:d===A||d.ownerDocument===Q&&y(Q,d)?1:L?f(L,a)-f(L,d):0:b&4?-1:1}:function(a,d){if(a===d)return B=!0,0;var b,h=0;b=a.parentNode;var e=d.parentNode,g=[a],m=[d];if(!b||!e)return a===A?-1:d===A?1:b?-1:e?1:L?f(L,a)-f(L,d):0;if(b===e)return v(a,
d);for(b=a;b=b.parentNode;)g.unshift(b);for(b=d;b=b.parentNode;)m.unshift(b);for(;g[h]===m[h];)h++;return h?v(g[h],m[h]):g[h]===Q?-1:m[h]===Q?1:0};return A};l.matches=function(a,f){return l(a,null,null,f)};l.matchesSelector=function(a,f){(a.ownerDocument||a)!==A&&P(a);f=f.replace(qa,"='$1']");if(!(!q.matchesSelector||W[f+" "]||V&&V.test(f)||J&&J.test(f)))try{var d=Y.call(a,f);if(d||q.disconnectedMatch||a.document&&11!==a.document.nodeType)return d}catch(Ca){}return 0<l(f,A,null,[a]).length};l.contains=
function(a,f){(a.ownerDocument||a)!==A&&P(a);return y(a,f)};l.escape=function(a){return(a+"").replace(na,ea)};l.error=function(a){throw Error("Syntax error, unrecognized expression: "+a);};l.uniqueSort=function(a){var f,d=[],b=0,h=0;B=!q.detectDuplicates;L=!q.sortStable&&a.slice(0);a.sort(T);if(B){for(;f=a[h++];)f===a[h]&&(b=d.push(h));for(;b--;)a.splice(d[b],1)}L=null;return a};p=l.getText=function(a){var f,d="",b=0;f=a.nodeType;if(!f)for(;f=a[b++];)d+=p(f);else if(1===f||9===f||11===f){if("string"===
typeof a.textContent)return a.textContent;for(a=a.firstChild;a;a=a.nextSibling)d+=p(a)}else if(3===f||4===f)return a.nodeValue;return d};h=l.selectors={cacheLength:50,match:ma,find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(a){a[3]=a[3]||a[4]||a[5]||"";"~="===a[2]&&(a[3]=" "+a[3]+" ");return a.slice(0,4)}},filter:{TAG:function(a){var f=a.toLowerCase();return"*"===a?function(){return!0}:
function(a){return a.nodeName&&a.nodeName.toLowerCase()===f}},CLASS:function(a){var f=S[a+" "];return f||(f=new z("(^|[\\x20\\t\\r\\n\\f])"+a+"([\\x20\\t\\r\\n\\f]|$)"),S(a,function(a){return f.test("string"===typeof a.className&&a.className||"undefined"!==typeof a.getAttribute&&a.getAttribute("class")||"")}))},ATTR:function(a,f,d){return function(b){b=l.attr(b,a);if(null==b)return"!="===f;if(!f)return!0;b+="";return"="===f?b===d:"!="===f?b!==d:"^="===f?d&&0===b.indexOf(d):"*="===f?d&&-1<b.indexOf(d):
"$="===f?d&&b.slice(-d.length)===d:"~="===f?-1<(" "+b.replace(ia," ")+" ").indexOf(d):"|="===f?b===d||b.slice(0,d.length+1)===d+"-":!1}}}};t.prototype=h.filters=h.pseudos;h.setFilters=new t;d=l.tokenize=function(a,f){var d,b,e=[],g,m,n,p;if(m=da[a+" "])return f?0:m.slice(0);m=a;n=[];for(p=h.preFilter;m;){if(!d||(b=sa.exec(m)))b&&(m=m.slice(b[0].length)||m),n.push(e=[]);d=!1;if(b=pa.exec(m))d=b.shift(),e.push({value:d,type:b[0].replace(X," ")}),m=m.slice(d.length);for(g in h.filter)!(b=ma[g].exec(m))||
p[g]&&!(b=p[g](b))||(d=b.shift(),e.push({value:d,type:g,matches:b}),m=m.slice(d.length));if(!d)break}return f?m.length:m?l.error(a):da(a,n).slice(0)};F=l.compile=function(a,f){var b,h=[],e=[],g=W[a+" "];if(!g){f||(f=d(a));for(b=f.length;b--;)g=n(f[b]),g[K]?h.push(g):e.push(g);g=W(a,m(e,h));g.selector=a}return g};u=l.select=function(a,f,b,h){var e="function"===typeof a&&a,g=!h&&d(a=e.selector||a);b=b||[];(e||F(a,g))(h,f,!1,b,!f||f);return b};q.sortStable=K.split("").sort(T).join("")===K;q.detectDuplicates=
!!B;P();q.sortDetached=r(function(a){return a.compareDocumentPosition(A.createElement("fieldset"))&1});r(function(a){a.innerHTML="<a href='#'></a>";return"#"===a.firstChild.getAttribute("href")});q.attributes&&r(function(a){a.innerHTML="<input/>";a.firstChild.setAttribute("value","");return""===a.firstChild.getAttribute("value")});r(function(a){return null==a.getAttribute("disabled")});a.support=q;a.all=l})(dynamsoft.lib);
(function(a){function l(f,d,b){if(!(this instanceof l))return new l(f,d,b);if(!f)return this;if("string"===typeof f)return a.error("Err 4001."),this;if(a.isArray(f)||f.isNodeList)return x.apply(this,g(f)),this;this[0]=f;this.length=1;return this}function b(a){if(a in W)return a;for(var f=a.charAt(0).toUpperCase()+a.slice(1),d=T.length;d--;)if(a=T[d]+f,a in W)return a}function e(a,d){var f,b,h=0,g="undefined"!==typeof a.getElementsByTagName?a.getElementsByTagName(d||"*"):"undefined"!==typeof a.querySelectorAll?
a.querySelectorAll(d||"*"):void 0;if(!g)for(g=[],f=a.childNodes||a;null!=(b=f[h]);h++)!d||C.nodeName(b,d)?g.push(b):C.merge(g,e(b,d));return void 0===d||d&&C.nodeName(a,d)?C.merge([a],g):g}function r(a,d,b){var f=!0,h="width"===d?a.offsetWidth:a.offsetHeight,g=P(a),e=m.boxSizing&&"border-box"===C.css(a,"boxSizing",!1,g);if(0>=h||null==h){h=A(a,d,g);if(0>h||null==h)h=a.style[d];if(O.test(h))return h;f=e&&(m.boxSizingReliable()||h===a.style[d]);h=parseFloat(h)||0}return h+v(a,d,b||(e?"border":"content"),
f,g)}function v(a,d,b,h,g){d=b===(h?"border":"content")?4:"width"===d?1:0;for(var f=0;4>d;d+=2)"margin"===b&&(f+=C.css(a,b+S[d],!0,g)),h?("content"===b&&(f-=C.css(a,"padding"+S[d],!0,g)),"margin"!==b&&(f-=C.css(a,"border"+S[d]+"Width",!0,g))):(f+=C.css(a,"padding"+S[d],!0,g),"padding"!==b&&(f+=C.css(a,"border"+S[d]+"Width",!0,g)));return f}function t(a){return new RegExp("^(?:([+-])=|)("+a+")([a-z%]*)$","i")}function D(a,d,b,h){var f,g=1,e=20,m=h?function(){return h.cur()}:function(){return C.css(a,
d,"")},n=m(),p=b&&b[3]||(C.cssNumber[d]?"":"px"),u=(C.cssNumber[d]||"px"!==p&&+n)&&t(C.css(a,d));if(u&&u[3]!==p){p=p||u[3];b=b||[];u=+n||1;do g=g||".5",u/=g,C.style(a,d,u+p);while(g!==(g=m()/n)&&1!==g&&--e)}b&&(u=+u||+n||0,f=b[1]?u+(b[1]+1)*b[2]:+b[2],h&&(h.unit=p,h.start=u,h.end=f));return f}var G=Array.prototype,w=G.slice,x=G.push,g=a.makeArray,n=document.documentElement,G=l.prototype={isNodeList:!0,length:0,item:function(f){return a.isNumber(f)?f>=this.length?null:new l(this[f]):new l(f)},slice:function(){return new l(w.apply(this,
arguments))},getDOMNodes:function(){return w.call(this)},each:function(f,d){var b=this;a.each(b,function(a,h){a=new l(a);return f.call(d||a,a,h,b)});return b},getEL:function(){return this[0]},all:function(a){return 0<this.length?l.all(a,this):new l},one:function(a){a=this.all(a);return a.length?a.slice(0,1):null}};a.mix(l,{all:function(f,d){var b=d;b&&b.isNodeList&&(b=d.getEL());return"string"===typeof f?((f=a.trim(f))&&3<=f.length&&a.startsWith(f,"<")&&a.endsWith(f,">")&&a.err("Err 4002."),new l(a.all(f,
b))):f.isNodeList?f:new l(f)},one:function(a,d){var f=l.all(a,d);return f.length?f.slice(0,1):null}});a.one=l.one;var m=a.support,z=a.all,q=function(){var a;n.appendChild(L);B.style.cssText="-webkit-box-sizing:border-box;box-sizing:border-box;position:relative;display:block;margin:auto;border:1px;padding:1px;top:1%;width:50%";h=d=M=!1;p=u=!0;window.getComputedStyle&&(a=window.getComputedStyle(B),h="1%"!==(a||{}).top,M="2px"===(a||{}).marginLeft,d="4px"===(a||{width:"4px"}).width,B.style.marginRight=
"50%",p="4px"===(a||{marginRight:"4px"}).marginRight,a=B.appendChild(document.createElement("div")),a.style.cssText=B.style.cssText="-webkit-box-sizing:content-box;-moz-box-sizing:content-box;box-sizing:content-box;display:block;margin:0;border:0;padding:0",a.style.marginRight=a.style.width="0",B.style.width="1px",u=!parseFloat((window.getComputedStyle(a)||{}).marginRight),B.removeChild(a));B.style.display="none";if(F=0===B.getClientRects().length)if(B.style.display="",B.innerHTML="<table><tr><td></td><td>t</td></tr></table>",
B.childNodes[0].style.borderCollapse="separate",a=B.getElementsByTagName("td"),a[0].style.cssText="margin:0;border:0;padding:0;display:none",F=0===a[0].offsetHeight)a[0].style.display="",a[1].style.display="none",F=0===a[0].offsetHeight;n.removeChild(L)},h,p,d,F,u,M,L=document.createElement("div"),B=document.createElement("div");if(B.style){B.style.cssText="float:left;opacity:.5";m.opacity="0.5"===B.style.opacity;m.cssFloat=!!B.style.cssFloat;B.style.backgroundClip="content-box";B.cloneNode(!0).style.backgroundClip=
"";m.clearCloneStyle="content-box"===B.style.backgroundClip;L=document.createElement("div");L.style.cssText="border:0;width:8px;height:0;top:0;left:-9999px;padding:0;margin-top:1px;position:absolute";B.innerHTML="";L.appendChild(B);m.boxSizing=""===B.style.boxSizing||""===B.style.MozBoxSizing||""===B.style.WebkitBoxSizing;a.mix(m,{reliableHiddenOffsets:function(){null==h&&q();return F},boxSizingReliable:function(){null==h&&q();return d},pixelMarginRight:function(){null==h&&q();return p},pixelPosition:function(){null==
h&&q();return h},reliableMarginRight:function(){null==h&&q();return u},reliableMarginLeft:function(){null==h&&q();return M}});var P,A,N=/^(top|right|bottom|left)$/;window.getComputedStyle?(P=function(f){var d;f=a.isFunction(f.getEL)?f.getEL():f;(d=f.ownerDocument.defaultView)&&d.opener||(d=window);return d.getComputedStyle(f)},A=function(a,d,b){var f,h,g=a.style;h=(b=b||P(a))?b.getPropertyValue(d)||b[d]:void 0;""!==h&&void 0!==h||C.contains(a.ownerDocument,a)||(h=C.style(a,d));b&&!m.pixelMarginRight()&&
O.test(h)&&rmargin.test(d)&&(a=g.width,d=g.minWidth,f=g.maxWidth,g.minWidth=g.maxWidth=g.width=h,h=b.width,g.width=a,g.minWidth=d,g.maxWidth=f);return void 0===h?h:h+""}):n.currentStyle&&(P=function(a){return a.currentStyle},A=function(a,d,b){var f,h,g,e=a.style;g=(b=b||P(a))?b[d]:void 0;null==g&&e&&e[d]&&(g=e[d]);if(O.test(g)&&!N.test(d)){b=e.left;if(h=(f=a.runtimeStyle)&&f.left)f.left=a.currentStyle.left;e.left="fontSize"===d?"1em":g;g=e.pixelLeft+"px";e.left=b;h&&(f.left=h)}return void 0===g?g:
g+""||"auto"});var J=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:-]+)[^>]*)\/>/gi,V=/<([\w:-]+)/,Y=/^\s+/,y=/<|&#?\w+;/,K=/^-ms-/,Q=/-([\da-z])/gi,Z=/^(none|table(?!-c[ea]).+)/,ca=/^<([\w-]+)\s*\/?>(?:<\/\1>|)$/,S=["Top","Right","Bottom","Left"],da={option:[1,"<select multiple='multiple'>","</select>"],legend:[1,"<fieldset>","</fieldset>"],area:[1,"<map>","</map>"],param:[1,"<object>","</object>"],thead:[1,"<table>","</table>"],tr:[2,"<table><tbody>","</tbody></table>"],col:[2,"<table><tbody></tbody><colgroup>",
"</colgroup></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:m.htmlSerialize?[0,"",""]:[1,"X<div>","</div>"]},W,T=["Webkit","O","Moz","ms"],B=document.createElement("div");if(B.style){W=B.style;m.cssFloat=!!B.style.cssFloat;var R=function(a,d){return d.toUpperCase()},C={type:function(a){return null==a?a+"":"object"===typeof a||"function"===typeof a?class2type[toString.call(a)]||"object":typeof a},cssHooks:{},htmlPrefilter:function(a){return a.replace(J,"<$1></$2>")},nodeName:function(a,
d){return a.nodeName&&a.nodeName.toLowerCase()===d.toLowerCase()},merge:function(a,d){for(var f=+d.length,b=0,h=a.length;b<f;)a[h++]=d[b++];if(f!==f)for(;void 0!==d[b];)a[h++]=d[b++];a.length=h;return a},camelCase:function(a){return a.replace(K,"ms-").replace(Q,R)},cssProps:{"float":m.cssFloat?"cssFloat":"styleFloat"},cssNumber:{animationIterationCount:!0,columnCount:!0,fillOpacity:!0,flexGrow:!0,flexShrink:!0,fontWeight:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0}},
la=function(a,d,b,h){var f,g={};for(f in d)g[f]=a.style[f],a.style[f]=d[f];b=b.apply(a,h||[]);for(f in d)a.style[f]=g[f];return b},O=new RegExp("^("+/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source+")(?!px)[a-z%]+$","i");a.each(["height","width"],function(a,d){C.cssHooks[a]={get:function(d,f,b){if(f)return Z.test(C.css(d,"display"))&&0===d.offsetWidth?la(d,cssShow,function(){return r(d,a,b)}):r(d,a,b)},set:function(d,f,b){var h=b&&P(d);d=b?v(d,a,b,m.boxSizing&&"border-box"===C.css(d,"boxSizing",!1,h),
h):0;return(b=t(f))?Math.max(0,b[2]-(d||0))+(b[3]||"px"):f}}});a.style=C.style=function(a,d,h,g){if(a&&3!==a.nodeType&&8!==a.nodeType&&a.style){var f,e,n,p=C.camelCase(d),u=a.style;d=C.cssProps[p]||(C.cssProps[p]=b(p)||p);n=C.cssHooks[d]||C.cssHooks[p];if(void 0!==h)e=typeof h,"string"===e&&(f=t(h))&&f[1]&&(h=D(a,d,f),e="number"),null!=h&&h===h&&("number"===e&&(h+=f&&f[3]||(C.cssNumber[p]?"":"px")),m.clearCloneStyle||""!==h||0!==d.indexOf("background")||(u[d]="inherit"),n&&"set"in n&&void 0===(h=
n.set(a,h,g))||(u[d]=h));else return n&&"get"in n&&void 0!==(f=n.get(a,!1,g))?f:u[d]}};a.css=C.css=function(a,d,h,g){var f,e;e=C.camelCase(d);d=C.cssProps[e]||(C.cssProps[e]=b(e)||e);(e=C.cssHooks[d]||C.cssHooks[e])&&"get"in e&&(f=e.get(a,!0,h));void 0===f&&(f=A(a,d,g));"normal"===f&&d in cssNormalTransform&&(f=cssNormalTransform[d]);return""===h||h?(a=parseFloat(f),!0===h||isFinite(a)?a||0:f):f};var U=/[\n\t\r]/g;a.mix(G,{before:function(d){var f=this.getEL(),b=d;"string"===typeof d&&(d=a.trim(d))&&
3<=d.length&&a.startsWith(d,"<")&&a.endsWith(d,">")&&(b=a.parseHTML(d)[0]);f.insertBefore(b,f.childNodes[0])},append:function(d){var f=this.getEL(),b=d;"string"===typeof d&&(d=a.trim(d))&&3<=d.length&&a.startsWith(d,"<")&&a.endsWith(d,">")&&(b=a.parseHTML(d)[0]);f.appendChild(b)},html:function(a){this.getEL().innerHTML=a},attr:function(a,d){var b=this.getEL();"class"==a?b.className=d:b[a]=d},style:function(a,d){var b=this.getEL();C.style(b,a,d)},css:function(d){var b=this.getEL();a.each(d,function(a,
d){C.style(b,d,a)})},addClass:function(d){var b=this.getEL();d=d.split(" ");var f=b.className,h,g=d.length,e;if(f){h=(" "+f+" ").replace(U," ");for(e=0;e<g;e++)0>h.indexOf(" "+d[e]+" ")&&(f+=" "+d[e]);f=a.trim(f)}else f=d.join(" ");b.className=f},removeClass:function(d){var b=this.getEL();d=d.split(" ");var f=b.className,h=d.length,g,e;if(f&&h){f=(" "+f+" ").replace(U," ");for(g=0;g<h;g++)for(e=" "+d[g]+" ";0<=f.indexOf(e);)f=f.replace(e," ");b.className=a.trim(f)}},parent:function(){var a=this.getEL();
return new l(a.parentNode)},remove:function(){var a=this.getEL();a.parentNode.removeChild(a)}});a.parseHTML=function(d,b){if(!d||"string"!==typeof d)return null;"boolean"===typeof b&&(b=!1);b=b||document;var f=ca.exec(d);if(f)return[b.createElement(f[1])];var h=[d],g=b,n,p,u,r,l,q,F=h.length;p="abbr article aside audio bdi canvas data datalist details dialog figcaption figure footer header hgroup main mark meter nav output picture progress section summary template time video".split(" ");f=g.createDocumentFragment();
if(f.createElement)for(;p.length;)f.createElement(p.pop());for(var w=[],x=0;x<F;x++)if((p=h[x])||0===p)if("object"===a.type(p))C.merge(w,p.nodeType?[p]:p);else if(y.test(p)){r=r||f.appendChild(g.createElement("div"));l=(V.exec(p)||["",""])[1].toLowerCase();q=da[l]||da._default;r.innerHTML=q[1]+C.htmlPrefilter(p)+q[2];for(n=q[0];n--;)r=r.lastChild;!m.leadingWhitespace&&Y.test(p)&&w.push(g.createTextNode(Y.exec(p)[0]));if(!m.tbody)for(n=(p="table"!==l||rtbody.test(p)?"<table>"!==q[1]||rtbody.test(p)?
0:r:r.firstChild)&&p.childNodes.length;n--;)C.nodeName(u=p.childNodes[n],"tbody")&&!u.childNodes.length&&p.removeChild(u);C.merge(w,r.childNodes);for(r.textContent="";r.firstChild;)r.removeChild(r.firstChild);r=f.lastChild}else w.push(g.createTextNode(p));r&&f.removeChild(r);for(x=0;p=w[x++];)u=z.contains(p.ownerDocument,p),r=e(f.appendChild(p),"script"),u&&setGlobalEval(r);return C.merge([],f.childNodes)}}}})(dynamsoft.lib);
(function(a){var l=Array.prototype,b=Function.prototype;a.isFunction(l.indexOf)||(l.indexOf=function(a,b){var e;if(null==this)return-1;var r=Object(this),l=r.length>>>0;if(0===l)return-1;e=+b||0;Infinity===Math.abs(e)&&(e=0);if(e>=l)return-1;for(e=Math.max(0<=e?e:l-Math.abs(e),0);e<l;){if(e in r&&r[e]===a)return e;e++}return-1});a.isFunction(b.bind)||(b.bind=function(a){var b=this;if(1<arguments.length){var e=l.slice.call(arguments,1);return function(){return b.apply(a,arguments.length?e.concat(l.slice.call(arguments)):
e)}}return function(){return arguments.length?b.apply(a,arguments):b.call(a)}});String.prototype.trim||(String.prototype.trim=function(){return this.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"")})})(dynamsoft.lib);
(function(a){var l=a.lib,b=a.navInfo;a=window.document;var e;e=function(a){"mousewheel"==a&&(a=b.bGecko?"DOMMouseScroll":"mousewheel");return a};l.mix(l,{addEventListener:a.addEventListener?function(a,b,l){b=e(b);a&&a.addEventListener(b,l,!1)}:function(a,b,l){b=e(b);a&&a.attachEvent("on"+b,l)},removeEventListener:a.removeEventListener?function(a,b,l){b=e(b);a&&a.removeEventListener(b,l,!1)}:function(a,b,l){b=e(b);a&&a.detachEvent("on"+b,l)},getWheelDelta:function(a){a=a||window.event;var b,e=a.wheelDelta;
a=a.detail;e&&(b=e/120);a&&(b=-(0===a%3?a/3:a));return b}})})(dynamsoft);(function(a){a.Events={registedClass:[],registedObjs:[]};a.addEventListener(document.documentElement,"keydown",function(l){l=l||window.event;var b=!0;a.each(a.Events.registedObjs,function(e){a.each(a.Events.registedClass,function(a){if(e instanceof a&&e.bFocus&&e.handlerKeyDown&&(b=e.handlerKeyDown(l),!b))return!1})});return b})})(dynamsoft.lib);
(function(a){a.stopPropagation=function(a){a=a||window.event;a.preventDefault&&a.preventDefault();a.stopPropagation&&a.stopPropagation();a.returnValue=!1;a.cancelBubble=!0}})(dynamsoft.lib);
(function(a){var l={LEFT:0,MIDDLE:1,RIGHT:2};a.EnumMouseButton=l;a.detectButton=function(a){a=a||window.event;return null==a.which?2>a.button?l.LEFT:4==a.button?l.MIDDLE:l.RIGHT:2>a.which?l.LEFT:2==a.which?l.MIDDLE:l.RIGHT};a.fireEvent=function(a,e){var b;doc.createEvent?(b=doc.createEvent("HTMLEvents"),b.initEvent(a,TRUE,TRUE),e.dispatchEvent&&e.dispatchEvent(b)):doc.createEventObject?(b=doc.createEventObject(),b.bubbles=TRUE,b.cancelable=TRUE,e.fireEvent(a,b)):(b=new Event(a),e.dispatchEvent&&e.dispatchEvent(b))}})(dynamsoft.lib);
(function(a,l,b){function e(d){if(d&&a.isString(d.url)){if(!(this instanceof e))return new e(d);a.mix(this,n);a.mix(this,p);d instanceof e&&(d=d.config);this.config=d;this.config.context=this;this._setupCfg(d);this.sendInternal()}else a.log("the url is error.")}var r=window,v=/^(?:about|app|app\-storage|.+\-extension|file|widget)$/,t=new a.Uri(location.href),D=t&&v.test(t.getScheme()),G=function(){try{return new r.XMLHttpRequest}catch(d){}return b},w=function(){try{var d=!1;a.each(["Msxml2.XMLHTTP.6.0",
"Msxml2.XMLHTTP","Microsoft.XMLHTTP","Msxml2.XMLHTTP.3.0","Msxml3.XMLHTTP"],function(b){try{return d=new r.ActiveXObject(b)}catch(u){a.error("new xhr error: "+u.message)}});return d}catch(F){}return b},x=!D&&r.XMLHttpRequest?"withCredentials"in(G()||[]):!1,g=r.ActiveXObject?function(a){return l.bIE&&9>=parseInt(l.strBrowserVersion)?w():!D&&G()||w()}:G,n={url:!1,onSuccess:!1,onError:!1,onComplete:!1,method:"GET",async:!0,xhrFields:!1,mimeType:!1,username:!1,password:!1,data:!1,dataType:"text",headers:!1,
contentType:"application/x-www-form-urlencoded; charset=UTF-8",beforeSend:!1,afterSend:!1,timeout:0,crossDomain:!1},m=/^(?:GET|HEAD)$/,z=/^(.*?):[ \t]*([^\r\n]*)\r?$/mg,q={xml:"application/xml, text/xml",html:"text/html",text:"text/plain",json:"application/json, text/javascript","*":"*/*"},h=a.nil,p;l.bIE&&10>=parseInt(l.strBrowserVersion)&&(h=a.noop);p={setRequestHeader:function(a,b){this.headers[a]=b;return this},getAllResponseHeaders:function(){return 2===this.state?this.responseHeadersString:
null},getNativeXhr:function(){return this.nativeXhr},getResponseHeader:function(a){var d,h;a=a.toLowerCase();if(2===this.state){if(!(h=this.responseHeaders))for(h=this.responseHeaders={};d=z.exec(this.responseHeadersString);)h[d[1].toLowerCase()]=d[2];d=h[a]}return d===b?null:d},overrideMimeType:function(a){this.state||(this.mimeType=a);return this},abort:function(a){a=a||"abort";this.nativeXhr&&this.nativeXhr.abort();this._ioReady(0,a);return this},_ioReady:function(d,b){var h;if(2!==this.state){this.state=
2;this.readyState=4;200<=d&&300>d||304===d?(b=304===d?"not modified":"success",h=!0):0>d&&(d=0);try{200<=d&&this.handleResponseData()}catch(B){a.error(B.stack||B,"error"),b=B.message||"parser error"}this.status=d;this.statusText=b;var g;if(g=this.timeoutTimer)clearTimeout(g),this.timeoutTimer=0;g=[this.responseData,b,this];var e=this.context;h=this[h?"onSuccess":"onError"];a.isFunction(h)&&h.apply(e,g);h=this.onComplete;a.isFunction(h)&&h.apply(e,g)}},handleResponseData:function(){var d;d=this.dataType;
var h=this.nativeXhr;if("blob"===d||"arraybuffer"===d)d=r.Blob?h.response:h.responseBody;else if("json"==d)d=h.responseType&&"json"==h.responseType.toLowerCase()?h.response:h.responseText?r.JSON&&r.JSON.parse?r.JSON.parse(h.responseText):a.parse(h.responseText):{};else if("user-defined"===d)d=h.response!==b?h.response:h.responseText;else{this.responseText=d=h.responseText||"";try{var g=h.responseXML;g&&g.documentElement&&(this.responseXML=g)}catch(M){}}this.responseData=d},sendInternal:function(){var d=
this,b,h,e,p,n,w;h=this.method;e=this.url;p=this.dataType;w=this.mimeType;if(a.isString(e)&&(d.nativeXhr=n=g(this.crossDomain))){try{if(d.state=1,this.username?n.open(h,e,this.async,this.username,this.password):n.open(h,e,this.async),(this.async||l.bIE)&&p&&"user-defined"!=p&&"responseType"in n)try{n.responseType=p}catch(A){}}catch(A){2>d.state?(a.error(A.stack||A,"error"),d._ioReady(-1,"open error: "+(a.isNumber(A.number)?"("+A.number+")":"")+(A.message||""))):a.error(A);return}h=this.xhrFields||
{};"withCredentials"in h&&(x||delete h.withCredentials);for(b in h)try{n[b]=h[b]}catch(A){a.error(A)}w&&n.overrideMimeType&&n.overrideMimeType(w);w=this.headers||{};!1===w["X-Requested-With"]&&delete w["X-Requested-With"];if("undefined"!==typeof n.setRequestHeader)for(b in this.contentType&&n.setRequestHeader("Content-Type",this.contentType),n.setRequestHeader("Accept",p&&q[p]?q[p]+("*"===p?"":", */*; q=0.01"):q["*"]),w)n.setRequestHeader(b,w[b]);p=(b=!m.test(this.method))&&this.data||null;b&&l.bIE&&
10>parseInt(l.strBrowserVersion)&&(p=this.data);this.async&&0<this.timeout&&(d.timeoutTimer=setTimeout(function(){d.abort("timeout")},1E3*this.timeout));try{d.state=1;if(a.isFunction(d.beforeSend)&&!1===d.beforeSend(n,d)){d.abort("cancel");return}n.send(p);a.isFunction(d.afterSend)&&d.afterSend(d)}catch(A){2>d.state?(a.error(A.stack||A,"error"),d._ioReady(-1,"send error: "+(A.message||""))):a.error(A)}this.async&&4!==n.readyState?n.onreadystatechange=function(){d._callback()}:d._callback()}},_callback:function(d,
b){var g=this.nativeXhr;try{if(4===g.readyState||b)if(g.onreadystatechange=h,b)4!==g.readyState&&g.abort();else{this.responseHeadersString=g.getAllResponseHeaders();var e=g.status,p;try{p=g.statusText}catch(B){a.error("xhr statusText error: "),a.error(B),p=""}this._ioReady(e,p)}}catch(B){a.error(B.stack||B,"error");if(-1022===B.errorCode)throw{errorCode:-1022,errorString:"The local service (Dynamsoft Service) is disconnected.",toString:function(){return this.errorCode+": "+this.errorString}};g.onreadystatechange=
h;b||this._ioReady(-1,B.message||"process error")}},_setupCfg:function(d){var b,h,g;b=d.url;a.startsWith(b,"http://")||a.startsWith(b,"https://")?g=new a.Uri(b):(a.startsWith(b,"//")&&(d.url=b="http:"+b),g=t.resolve(b));b=d.dataType?d.dataType.toLowerCase():"text";d.dataType=b;d.method=d.method?d.method.toUpperCase():"GET";"crossDomain"in d||(d.crossDomain=!g.isSameOriginAs(t));b=d.headers;for(h in b)a.isUndefined(b[h])&&delete b[h];a.mix(this,d);this.state=1}};e._strOpenErr="open error: ";e._strSendErr=
"send error: ";e._strConnectionToServiceLostString="The local service (Dynamsoft Service) is disconnected.";a.mix(a,{ajax:e,io:{get:function(a,b,h,g){return new e({method:"GET",url:a,onSuccess:b,onError:h,dataType:g})},post:function(a,b,h,g,p){return new e({method:"POST",data:b,url:a,onSuccess:h,onError:g,dataType:p})},put:function(a,b,h,g,p){return new e({method:"PUT",data:b,url:a,onSuccess:h,onError:g,dataType:p})}}})})(dynamsoft.lib,dynamsoft.navInfo);
(function(a){function l(a){return 10>a?"0"+a:a}function b(e,w,x,g,n,m,t){var q=w[e];if(q&&"object"===typeof q)if("function"===typeof q.toJSON)q=q.toJSON(e);else if(q instanceof Date)q=isFinite(q.valueOf())?q.getUTCFullYear()+"-"+l(q.getUTCMonth()+1)+"-"+l(q.getUTCDate())+"T"+l(q.getUTCHours())+":"+l(q.getUTCMinutes())+":"+l(q.getUTCSeconds())+"Z":null;else if(q instanceof String||q instanceof Number||q instanceof Boolean)q=q.valueOf();void 0!==x&&(q=x.call(w,e,q));switch(typeof q){case "number":return isFinite(q)?
String(q):"null";case "string":return r.quote(q);case "boolean":return String(q);case "object":if(!q)return"null";if(a.isArray(q)){e=q;w=t;t+=n;for(var q=[],h=e.length,p=0;p<h;){var d=b(String(p),e,x,g,n,m,t);q[q.length]=void 0===d?"null":d;++p}q.length?n?(x=q.join("\n,"+t),x="[\n"+t+x+"\n"+w+"]"):x="["+q.join(",")+"]":x="[]";return x}e=q;w=t;t+=n;for(var F,q=void 0!==g?g:a.keys(e),d=[],p=0,h=q.length;p<h;p++){F=q[p];var u=b(F,e,x,g,n,m,t);void 0!==u&&(F=r.quote(F),F+=":",n&&(F+=" "),F+=u,d[d.length]=
F)}d.length?n?(x=d.join(",\n"+t),x="{\n"+t+x+"\n"+w+"}"):x="{"+d.join(",")+"}":x="{}";return x}}function e(b,w,l){var g=b[w],n,m,x;if("object"===typeof g)if(a.isArray(g)){n=0;m=g.length;for(var q=[];n<m;)x=e(g,String(n),l),void 0!==x&&(q[q.length]=x);g=q}else for(q=a.keys(g),n=0,m=q.length;n<m;n++){var h=q[n];x=e(g,h,l);void 0===x?delete g[h]:g[h]=x}return l.call(b,w,g)}var r=function(){var b={"\b":"\\b","\f":"\\f","\n":"\\n","\r":"\\r","\t":"\\t",'"':'\\"'},e={},l=/["\b\f\n\r\t\x00-\x1f]/g,g=/\\\\|\\\/|\\b|\\f|\\n|\\r|\\t|\\"|\\u[0-9a-zA-Z]{4}/g;
a.each(b,function(a,b){e[a]=b});e["\\/"]="/";e["\\\\"]="\\";return{quote:function(a){return'"'+a.replace(l,function(a){var g;(g=b[a])||(g="\\u"+("0000"+a.charCodeAt(0).toString(16)).slice(-4));return g})+'"'},unQuote:function(a){return a.slice(1,a.length-1).replace(g,function(a){var b;(b=e[a])||(b=String.fromCharCode(parseInt(a.slice(2),16)));return b})}}}();a.stringify=function(e,l,x){var g="",n,m;l&&("function"===typeof l?m=l:a.isArray(l)&&(n=l));"number"===typeof x?(x=Math.min(10,x),g=Array(x+
1).join(" ")):"string"===typeof x&&(g=x.slice(0,10));return b("",{"":e},m,n,g,[],"")};var v={},t;v.yy={unQuote:r.unQuote};t=function(b){this.rules=[];a.mix(this,b);this.resetInput(this.input)};t.prototype={constructor:function(b){this.rules=[];a.mix(this,b);this.resetInput(this.input)},resetInput:function(b){a.mix(this,{input:b,matched:"",stateStack:[t.STATIC.INITIAL],match:"",text:"",firstLine:1,lineNumber:1,lastLine:1,firstColumn:1,lastColumn:1})},getCurrentRules:function(){var b=this.stateStack[this.stateStack.length-
1],e=[],b=this.mapState(b);a.each(this.rules,function(l){var g=l.state||l[3];g?a.inArray(b,g)&&e.push(l):b==t.STATIC.INITIAL&&e.push(l)});return e},pushState:function(a){this.stateStack.push(a)},popState:function(){return this.stateStack.pop()},getStateStack:function(){return this.stateStack},showDebugInfo:function(){var a=t.STATIC.DEBUG_CONTEXT_LIMIT,b=this.matched,e=this.match,g=this.input,b=b.slice(0,b.length-e.length),b=(b.length>a?"...":"")+b.slice(-a).replace(/\n/," "),e=e+g,e=e.slice(0,a)+
(e.length>a?"...":"");return b+e+"\n"+Array(b.length+1).join("-")+"^"},mapSymbol:function(a){var b=this.symbolMap;return b?b[a]||(b[a]=++this.symbolId):a},mapReverseSymbol:function(a){var b=this.symbolMap,e,g=this.reverseSymbolMap;if(!g&&b)for(e in g=this.reverseSymbolMap={},b)g[b[e]]=e;return g?g[a]:a},mapState:function(a){var b=this.stateMap;return b?b[a]||(b[a]=++this.stateId):a},lex:function(){var b=this.input,e,l,g,n=this.getCurrentRules();this.match=this.text="";if(!b)return this.mapSymbol(t.STATIC.END_TAG);
for(e=0;e<n.length;e++){l=n[e];var m=l.token||l[0];g=l.action||l[2]||void 0;if(l=b.match(l.regexp||l[1])){if(e=l[0].match(/\n.*/g))this.lineNumber+=e.length;a.mix(this,{firstLine:this.lastLine,lastLine:this.lineNumber+1,firstColumn:this.lastColumn,lastColumn:e?e[e.length-1].length-1:this.lastColumn+l[0].length});e=this.match=l[0];this.matches=l;this.text=e;this.matched+=e;g=g&&g.call(this);g=void 0===g?m:this.mapSymbol(g);this.input=b=b.slice(e.length);return g?g:this.lex()}}a.error("lex error at line "+
this.lineNumber+":\n"+this.showDebugInfo())}};t.STATIC={INITIAL:"I",DEBUG_CONTEXT_LIMIT:20,END_TAG:"$EOF"};var D=new t({rules:[[2,/^"(\\"|\\\\|\\\/|\\b|\\f|\\n|\\r|\\t|\\u[0-9a-zA-Z]{4}|[^\\"\x00-\x1f])*"/,0],[0,/^[\t\r\n\x20]/,0],[3,/^,/,0],[4,/^:/,0],[5,/^\[/,0],[6,/^\]/,0],[7,/^\{/,0],[8,/^\}/,0],[9,/^-?\d+(?:\.\d+)?(?:e-?\d+)?/i,0],[10,/^true|false/,0],[11,/^null/,0],[12,/^./,0]]});v.lexer=D;D.symbolMap={$EOF:1,STRING:2,COMMA:3,COLON:4,LEFT_BRACKET:5,RIGHT_BRACKET:6,LEFT_BRACE:7,RIGHT_BRACE:8,
NUMBER:9,BOOLEAN:10,NULL:11,INVALID:12,$START:13,json:14,value:15,object:16,array:17,elementList:18,member:19,memberList:20};v.productions=[[13,[14]],[14,[15],function(){return this.$1}],[15,[2],function(){return this.yy.unQuote(this.$1)}],[15,[9],function(){return parseFloat(this.$1)}],[15,[16],function(){return this.$1}],[15,[17],function(){return this.$1}],[15,[10],function(){return"true"===this.$1}],[15,[11],function(){return null}],[18,[15],function(){return[this.$1]}],[18,[18,3,15],function(){this.$1[this.$1.length]=
this.$3;return this.$1}],[17,[5,6],function(){return[]}],[17,[5,18,6],function(){return this.$2}],[19,[2,4,15],function(){return{key:this.yy.unQuote(this.$1),value:this.$3}}],[20,[19],function(){var a={};a[this.$1.key]=this.$1.value;return a}],[20,[20,3,19],function(){this.$1[this.$3.key]=this.$3.value;return this.$1}],[16,[7,8],function(){return{}}],[16,[7,20,8],function(){return this.$2}]];v.table={gotos:{0:{14:7,15:8,16:9,17:10},2:{15:12,16:9,17:10,18:13},3:{19:16,20:17},18:{15:23,16:9,17:10},
20:{15:24,16:9,17:10},21:{19:25}},action:{0:{2:[1,0,1],5:[1,0,2],7:[1,0,3],9:[1,0,4],10:[1,0,5],11:[1,0,6]},1:{1:[2,2,0],3:[2,2,0],6:[2,2,0],8:[2,2,0]},2:{2:[1,0,1],5:[1,0,2],6:[1,0,11],7:[1,0,3],9:[1,0,4],10:[1,0,5],11:[1,0,6]},3:{2:[1,0,14],8:[1,0,15]},4:{1:[2,3,0],3:[2,3,0],6:[2,3,0],8:[2,3,0]},5:{1:[2,6,0],3:[2,6,0],6:[2,6,0],8:[2,6,0]},6:{1:[2,7,0],3:[2,7,0],6:[2,7,0],8:[2,7,0]},7:{1:[0,0,0]},8:{1:[2,1,0]},9:{1:[2,4,0],3:[2,4,0],6:[2,4,0],8:[2,4,0]},10:{1:[2,5,0],3:[2,5,0],6:[2,5,0],8:[2,5,0]},
11:{1:[2,10,0],3:[2,10,0],6:[2,10,0],8:[2,10,0]},12:{3:[2,8,0],6:[2,8,0]},13:{3:[1,0,18],6:[1,0,19]},14:{4:[1,0,20]},15:{1:[2,15,0],3:[2,15,0],6:[2,15,0],8:[2,15,0]},16:{3:[2,13,0],8:[2,13,0]},17:{3:[1,0,21],8:[1,0,22]},18:{2:[1,0,1],5:[1,0,2],7:[1,0,3],9:[1,0,4],10:[1,0,5],11:[1,0,6]},19:{1:[2,11,0],3:[2,11,0],6:[2,11,0],8:[2,11,0]},20:{2:[1,0,1],5:[1,0,2],7:[1,0,3],9:[1,0,4],10:[1,0,5],11:[1,0,6]},21:{2:[1,0,14]},22:{1:[2,16,0],3:[2,16,0],6:[2,16,0],8:[2,16,0]},23:{3:[2,9,0],6:[2,9,0]},24:{3:[2,
12,0],8:[2,12,0]},25:{3:[2,14,0],8:[2,14,0]}}};v.parse=function(b){var e=this,l=e.lexer,g,n,m,r=e.table,q=r.gotos,r=r.action,h=e.productions,p=[null],d=[0];for(l.resetInput(b);;){g=d[d.length-1];n||(n=l.lex());if(!n)return a.log("it is not a valid input: "+b,"error"),!1;m=r[g]&&r[g][n];if(!m){var t=[];r[g]&&a.each(r[g],function(a,b){t.push(e.lexer.mapReverseSymbol(b))});b="Syntax error at line "+l.lineNumber+":\n"+l.showDebugInfo()+"\nexpect "+t.join(", ");a.log(b);return!1}switch(m[0]){case 1:d.push(n);
p.push(l.text);d.push(m[2]);n=null;break;case 2:var u=h[m[1]];g=u.symbol||u[0];m=u.action||u[2];var v=(u.rhs||u[1]).length,L=0,u=p[p.length-v];e.$$=u;for(u=void 0;L<v;L++)e["$"+(v-L)]=p[p.length-1-L];m&&(u=m.call(e));u=void 0!==u?u:e.$$;v&&(d=d.slice(0,-2*v),p=p.slice(0,-1*v));d.push(g);p.push(u);d.push(q[d[d.length-2]][d[d.length-1]]);break;case 0:return u}}};a.parser=v;a.parse=function(a,b){var l=window.JSON;if(l&&l.parse)return l.parse(String(a));l=v.parse(String(a));return b?e({"":l},"",b):l}})(dynamsoft.lib);
(function(a,l){var b=window,e=document,r={},v=l.bIE&&8>l.IEMode,t=v&&7>l.IEMode,D=function(a){a.style.top=(e.body.scrollTop||e.documentElement.scrollTop)+((b.innerHeight?b.innerHeight:e.documentElement.clientHeight)-a.offsetHeight)/2+"px";a._dlgInfo.isTopOverridden=!0},G=function(a){var g=!1;b.getComputedStyle?g=b.getComputedStyle(a):a.currentStyle&&(g=a.currentStyle);if(g&&"absolute"!=g.position||"auto"!=a.style.top&&""!=a.style.top||"auto"!=a.style.bottom&&""!=a.style.bottom)return!1;a:{for(g=0;g<
e.styleSheets.length;++g){var m=e.styleSheets[g],l=!1,q=!1,h,p;try{l=m.cssRules,q=e.querySelectorAll}catch(F){}if(l&&q)for(m=0;m<l.length;++m){h=l[m];p=!1;try{p=q(h.selectorText)}catch(F){}var d;if(d=p)b:{for(d=0;d<p.length;++d)if(p[d]==a){d=!0;break b}d=!1}if(d&&(p=h.style.getPropertyValue("top"),h=h.style.getPropertyValue("bottom"),p&&"auto"!=p||h&&"auto"!=h)){a=!0;break a}}}a=!1}return!a};r.showDialog=function(g){var n=this,m;if(n.open)a.error("showDialog called on open dialog.");else if(n.open=
!0,n.setAttribute("open","open"),v&&(m=t?e.body:e.documentElement,n._dlgInfo.docOverflow=m.style.overflow,m.style.overflow="hidden"),G(n)&&D(n),g&&(n._dlgInfo.modal=!0,r.dm.pushDialog(n),v)){var l,q,h=!1,p=!1;l=n.currentStyle.left;q=n.currentStyle.top;"auto"===l?(t&&(n.style.textAlign="center"),l=(m.clientWidth-n.currentStyle.width)/2):0<l.indexOf("%")?(h=l,l=Number(l.replace("%","")*m.clientWidth/100)):l=Number(l.replace("px",""));0<l||(l=0);"auto"===q?q=(m.clientHeight-n.currentStyle.height)/2:
0<q.indexOf("%")?(p=q,q=Number(q.replace("%","")*m.clientHeight/100)):q=Number(q.replace("px",""));0<q||(q=0);setTimeout(function(){var a=n.style,b=n._dlgInfo.mask;b.style.backgroundColor="#000";b.style.filter="alpha(opacity=30)";a.position="absolute";a.left=l+"px";a.top=q+"px"},0);n._scrollFn=function(){var a=m.scrollTop+"px",b=m.scrollLeft+"px",h=r.dm.overlay,e=n._dlgInfo.mask,g=n.style;g.top=q+m.scrollTop+m.clientHeight<m.scrollHeight?q+m.scrollTop+"px":a;h&&(h.style.top=a);e&&(e.style.top=a);
g.left=b;h&&(h.style.left=b);e&&(e.style.left=b);setTimeout(function(){n._resizeFn()},100)};n._resizeFn=function(){var a=t?e.body:e.documentElement,b=a.clientWidth+"px",a=a.clientHeight+"px",g=r.dm.overlay,m=n._dlgInfo.mask;g.style.width=b;m&&(m.style.width=b);g.style.height=a;m&&(m.style.height=a);setTimeout(function(){var a,b=n.style,d=t?e.body:e.documentElement;h&&(a=Number(h.replace("%","")*d.clientWidth/100),b.left=a+"px");p&&(a=Number(p.replace("%","")*d.clientHeight/100),b.top=a+"px")},0)};
n._scrollFn();b.attachEvent("onscroll",n._scrollFn);b.attachEvent("onresize",n._resizeFn)}};r.closeDialog=function(g){this.open||a.error("closeDialog called on closed dialog.");this.open=!1;this.removeAttribute("open");v&&((t?e.body:e.documentElement).style.overflow=this._dlgInfo.docOverflow);"undefined"!=typeof g&&(this.returnValue=g);this._dlgInfo.isTopOverridden&&(this.style.top="auto");this._dlgInfo.modal&&(v&&(b.detachEvent("onscroll",this._scrollFn),b.detachEvent("onresize",this._resizeFn)),
r.dm.removeDialog(this));return this.returnValue};r.createMouseEvent=function(a){var g=e.createEvent("MouseEvents");g.initMouseEvent(a.type,a.bubbles,a.cancelable,b,a.detail,a.screenX,a.screenY,a.clientX,a.clientY,a.ctrlKey,a.altKey,a.shiftKey,a.metaKey,a.button,a.relatedTarget);return g};r.setup=function(a){a.show=this.showDialog.bind(a,!1);a.showModal=this.showDialog.bind(a,!0);a.close=this.closeDialog.bind(a);a._dlgInfo={}};var w=function(){var b;this.pendingDialogStack=[];this.overlay=e.createElement(v?
"iframe":"div");b=this.overlay.style;b.position=v?"absolute":"fixed";b.display="block";b.left=b.top=b.margin=b.padding=0;b.backgroundColor="#000";b.filter="alpha(opacity=30)";b.opacity=b.MozOpacity=.3;b.zIndex=5E5;b.width="100%";b.height=v&&0<e.documentElement.clientHeight?e.documentElement.clientHeight+"px":"100%";e.createEvent&&a.addEventListener(this.overlay,"click",function(a){a=r.createMouseEvent(a);e.body.dispatchEvent(a)})},x=w.prototype;x._blockDocument=function(){e.body.contains(this.overlay)||
e.body.appendChild(this.overlay)};x._unblockDocument=function(){e.body.removeChild(this.overlay)};x._updateStacking=function(){var b,e;b=this.pendingDialogStack;0==b.length?this._unblockDocument():(this._blockDocument(),e=5E5,a.each(b,function(a){e++;a._dlgInfo.mask.style.zIndex=e++;a.style.zIndex=e}))};x.pushDialog=function(b){var g;1E3<=this.pendingDialogStack.length?a.error("Too many modal dialogs."):(g=e.createElement("div"),g.className="dynamsoft-backdrop",v&&(g.style.position="absolute"),e.createEvent&&
a.addEventListener(g,"click",function(a){b.dispatchEvent&&(a=r.createMouseEvent(a),b.dispatchEvent(a))}),b.parentNode.insertBefore(g,b.nextSibling),b._dlgInfo.mask=g,this.pendingDialogStack.push(b),this._updateStacking())};x.removeDialog=function(b){var e;e=a.isArray(this.pendingDialogStack)?this.pendingDialogStack.indexOf(b):-1;-1!=e&&(this.pendingDialogStack.splice(e,1),e=b._dlgInfo.mask,e.parentNode.removeChild(e),b._dlgInfo.mask=null,this._updateStacking())};r.dm=new w;a.dialog=r})(dynamsoft.lib,
dynamsoft.navInfo);
dynamsoft.lib.BASE64=function(){function a(a){var b=a.length;if(0<b%4)throw Error("Invalid string. Length must be a multiple of 4");return"="===a[b-2]?2:"="===a[b-1]?1:0}function l(a,e,l){for(var r=[],t=e;t<l;t+=3)e=(a[t]<<16)+(a[t+1]<<8)+a[t+2],r.push(b[e>>18&63]+b[e>>12&63]+b[e>>6&63]+b[e&63]);return r.join("")}for(var b=[],e=[],r="undefined"!==typeof Uint8Array?Uint8Array:Array,v=0;64>v;++v)b[v]="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/"[v],e["ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".charCodeAt(v)]=v;
e[45]=62;e[95]=63;this.byteLength=function(b){return 3*b.length/4-a(b)};this.toByteArray=function(b){var l,t,w,x,g;l=b.length;x=a(b);g=new r(3*l/4-x);t=0<x?l-4:l;var n=0;for(l=0;l<t;l+=4)w=e[b.charCodeAt(l)]<<18|e[b.charCodeAt(l+1)]<<12|e[b.charCodeAt(l+2)]<<6|e[b.charCodeAt(l+3)],g[n++]=w>>16&255,g[n++]=w>>8&255,g[n++]=w&255;2===x?(w=e[b.charCodeAt(l)]<<2|e[b.charCodeAt(l+1)]>>4,g[n++]=w&255):1===x&&(w=e[b.charCodeAt(l)]<<10|e[b.charCodeAt(l+1)]<<4|e[b.charCodeAt(l+2)]>>2,g[n++]=w>>8&255,g[n++]=
w&255);return g};this.fromByteArray=function(a){for(var e=a.length,r=e%3,w="",t=[],g=0,n=e-r;g<n;g+=16383)t.push(l(a,g,g+16383>n?n:g+16383));1===r?(a=a[e-1],w+=b[a>>2],w+=b[a<<4&63],w+="=="):2===r&&(a=(a[e-2]<<8)+a[e-1],w+=b[a>>10],w+=b[a>>4&63],w+=b[a<<2&63],w+="=");t.push(w);return t.join("")};return this}();
(function(a){if(!dynamsoft.dcpV2){var l=dynamsoft.navInfo,b,e={bConnected:!1,curPortIndex:0,bTrial:!0,bConnectNumLimited:!0,IMAXCONNECTCOUNT:2};dynamsoft.dcpV2=b={ip:"127.0.0.1",ports:[[18625,18626],[18993,18994]],sdkVersion:[13,0,0,"0404"],detect:e,versionInfo:function(l){var r=0,t=function(l,r){var g=[b._getPreUrl(e.curPortIndex),b._getModuleName(),b._getModuleVer(),"/VersionInfo?ts=",a.now()].join(""),n=a.stringify({id:"1",method:"VersionInfo",version:"dwasm_"+b.sdkVersion.join(""),parameter:[]});
a.ajax({method:"POST",url:g,data:n,onSuccess:l,onError:r})},D=function(w,x,g){++r;e.curPortIndex=r%b.ports.length;e.bConnected=!1;e.bConnectNumLimited&&r>=e.IMAXCONNECTCOUNT?a.isFunction(l)&&setTimeout(function(){l(w,x,g)},0):setTimeout(function(){t(G,D)},1E3)},G=function(t,x,g){var n=b._getJSON(t);if(n&&"result"in n&&(n=n.result,a.isArray(n)&&1<n.length&&n[0]&&n[1])){var m=n[0].split(","),n=n[1].toLowerCase();if(b._isCompitable(m,b.sdkVersion)&&(e.bTrial=0<=n.indexOf("trial"),e.curPort=b.ports[r%
b.ports.length],e.bConnected=!0,a.isFunction(l))){setTimeout(function(){l(t,x,g)},0);return}}setTimeout(D,1E3)};t(G,D)},loadZip:function(l,v,t,D){v=[b._getPreUrl(e.curPortIndex),b._getModuleName(),b._getModuleVer(),"/LoadZipFromBytes?ts=",a.now()].join("");new a.ajax({method:"POST",url:v,async:!0,data:l,mimeType:"text/plain; charset=x-user-defined",onSuccess:function(b,e,l){try{if(resObj=a.parse(b),1==resObj.result[0])t(resObj,e,l);else throw"";}catch(g){D(b,e,l)}},onError:D})},_getPreUrl:function(a){var e;
l.bSSL?(e="https://",a=b.ports[a][1]):(e="http://",a=b.ports[a][0]);return[e,b.ip,":",a,"/"].join("")},_isCompitable:function(a,b){return 3<a.length&&a[0]==b[0]&&a[1]==b[1]},_getJSON:function(b){return b?a.parse(b):!1},_getModuleName:function(){return"dcp/dwasm_"},_getModuleVer:function(){return b.sdkVersion.join("")}}}})(dynamsoft.lib);dynamsoft=dynamsoft||{};dynamsoft.dbrEnv=dynamsoft.dbrEnv||{};dynamsoft.dbrEnv.version="5.1.0.0404";dynamsoft.dbrEnv.versionInfo="JS version: 5.1.0.0404, Dll version: null";
dynamsoft.dbrEnv.port=[18625,18993];dynamsoft.dbrEnv.portSSL=[18626,18994];dynamsoft.dbrEnv.ifShowLoadingImg=!0;dynamsoft.dbrEnv.maxInitConnDwasTimes=Infinity;dynamsoft.dbrEnv.maxInitConnDbrTimes=20;dynamsoft.dbrEnv.ifShowDialogWhenModuleLoadFail=!1;dynamsoft.dbrEnv.ifShowLogWhenConnSuccess=!1;dynamsoft.dbrEnv.ifThrowException=!1;dynamsoft.dbrEnv.isAutoInit=!1;dynamsoft.dbrEnv.qTaskTimeout=.8;dynamsoft.dbrEnv.continConnInterval=1E3;
(function(a,l){a._innerDLLoaded||(a._download=function(a,e,r,v,t){var b=-1,G=e&&l.isFunction(t)?function(a,e){var g=0===a.total?100:Math.round(100*a.loaded/a.total),l;b!==g&&(l=t(g));b=g;!0===l&&e.abort()}:!1;a={beforeSend:e&&l.isFunction(t)?function(a,b){!a||dynamsoft.navInfo.bIE&&9>=parseInt(dynamsoft.navInfo.strBrowserVersion)||l.addEventListener(a,"progress",function(b){delete b.totalSize;delete b.position;G(b,a)})}:!1,method:"GET",url:a,dataType:"blob",onSuccess:r,onError:v,async:e};e?dynamsoft.navInfo.bIE&&
10>parseInt(dynamsoft.navInfo.strBrowserVersion)?(a.contentType="text/plain; charset=x-user-defined",a.mimeType="text/plain; charset=x-user-defined",a.headers={"Accept-Charset":"x-user-defined"}):(a.xhrFields={responseType:dynamsoft.navInfo.bSafari?"arraybuffer":"blob"},a.onError=function(a,b,e){if(dynamsoft.navInfo.bSafari){var g;try{g=String.fromCharCode.apply(null,new Uint8Array(a))}catch(z){g=""}v(g,b,e)}else{var l=new window.FileReader;try{l.readAsText(a)}catch(z){v("",b,e)}l.onloadend=function(){v(l.result,
b,e)}}}):dynamsoft.navInfo.bIE&&dynamsoft.navInfo.bHTML5Edition&&window.Uint8Array?(a.xhrFields={responseType:"arraybuffer"},a.onSuccess=function(a,b,e){var g=null;a&&(g=new Uint8Array(a));r(g,b,e)},a.onError=function(a,b,e){var g;try{g=String.fromCharCode.apply(null,new Uint8Array(a))}catch(m){g=""}v(g,b,e)}):(a.contentType="text/plain; charset=x-user-defined",a.mimeType="text/plain; charset=x-user-defined",dynamsoft.navInfo.bIE&&10>parseInt(dynamsoft.navInfo.strBrowserVersion)&&(a.headers={"Accept-Charset":"x-user-defined"}),
a.onSuccess=function(a,b,e){var g,l;if(dynamsoft.navInfo.bIE)l=e.nativeXhr.responseBody;else{a=e.nativeXhr.responseText;g=a.length;l=new Uint8Array(g);for(var t=0;t<g;t++)l[t]=a.charCodeAt(t)}r(dynamsoft.navInfo.bSafari?l.buffer:l,b,e)});l.ajax(a)},a._innerDLLoaded=!0)})(dynamsoft.dbrEnv,dynamsoft.lib);
(function(a,l){if(!a._errorLoaded){a.EnumDBRErrorCode={OK:0,ParameterNumberUnmatched:-1001,TypeNotValid:-1002,ValueOutOfRange:-1003,ValueNotValid:-1008,HttpError:-1012,LicenseDomainInvalid:-1015,ConvertBase64Failed:-1028,JsonParseFailed:-1029,ConnectDwasFailed:-4E3,DownloadDBRModuleFailed:-4001,SendDBRModuleFailed:-4002,ConnectDBRModuleFailed:-4003,Unknown:-1E4,NoMemory:-10001,NullReference:-10002,LicenseExpired:-10004,FileTypeNotSupported:-10006,IndexInvalid:-10008,BarcodeFormatInvalid:-10009,CustomedRegionInvalid:-10010,
MaxBarcodeNumberInvalid:-10011,ImageReadFailed:-10012,TiffReadFailed:-10013,LicenseQRInvalid:-10016,License1DInvalid:-10017,LicensePDF417Invalid:-10019,LicenseDataMatrixInvalid:-10020,DIBBufferInvalid:-10018,PageNumberInvalid:-10023,RecognitionTimeout:-10026,ServiceInternalError:-2E4};a._DBRErrorStr={};var b=a.EnumDBRErrorCode,e=a._DBRErrorStr;e[b.OK]="Successful.";e[b.ParameterNumberUnmatched]="One or more parameters are missing.";e[b.TypeNotValid]="The type of parameter {0} is invalid.";e[b.ValueOutOfRange]=
"The value of parameter {0} is out of range.";e[b.ValueNotValid]="The value of parameter {0} is invalid.";e[b.HttpError]="The server returned the error code {0}.";e[b.LicenseDomainInvalid]="The domain of your current site does not match the domain bound in the current product key, please contact the site administrator.";e[b.ConvertBase64Failed]="The conversion to base64 string failed.";e[b.JsonParseFailed]="Failed to parse json string.";e[b.ConnectDwasFailed]="Failed to connect to the Dwas service. Please check the network connection and try again later.";
e[b.DownloadDBRModuleFailed]="Failed to download the DBR module. Please check the network connection and try again later.";e[b.SendDBRModuleFailed]="Failed to send the DBR module to Dynamsoft Service. Please check the network connection and try again later.";e[b.ConnectDBRModuleFailed]="Failed to connect to the DBR module. Please check the network connection and try again later.";e[b.Unknown]="Unknown error.";e[b.NoMemory]="Not enough memory.";e[b.NullReference]="The object isn't set to an instance.";
e[b.LicenseExpired]="License is expired.";e[b.FileTypeNotSupported]="The file type to decode is not supported.";e[b.IndexInvalid]="Index is invalid.";e[b.BarcodeFormatInvalid]="Barcode format is invalid.";e[b.CustomedRegionInvalid]="Barcode custom region to decode is invalid.";e[b.MaxBarcodeNumberInvalid]="The maximum barcode number is invalid.";e[b.ImageReadFailed]="Read image fails.";e[b.TiffReadFailed]="Read TIFF type image fails.";e[b.LicenseQRInvalid]="You do not have a valid QR Barcode license.";
e[b.License1DInvalid]="You do not have a valid 1D Barcode license.";e[b.LicensePDF417Invalid]="You do not have a valid PDF417 barcode license.";e[b.LicenseDataMatrixInvalid]="You do not have a valid DATAMATRIX barcode license.";e[b.DIBBufferInvalid]="Invalid DIB Buffer.";e[b.PageNumberInvalid]="The page number is invalid.";e[b.RecognitionTimeout]="Recognition timeout.";e[b.ServiceInternalError]="({0}) {1}";a._errorLoaded=!0}})(dynamsoft.dbrEnv,dynamsoft.lib);
(function(a,l){function b(){return(dynamsoft.navInfo.bSSL?"https://":"http://")+"127.0.0.1:"+(dynamsoft.navInfo.bSSL?a.portSSL[r?1:0]:a.port[r?1:0])+"/dcp/dbr_"+a.version.replace(/\./g,"")+"/"}function e(b){var h=document.createElement("div"),e=(new Date).getTime();h.innerHTML="<div id='dbrdlg"+e+"' style='box-sizing: border-box; font-family:verdana,sans-serif; position:absolute; left: 0; top: 0; width: 100%; height: 100%; z-index:500000'><div style='position:absolute; left: 0; top: 0; width: 100%; height: 100%; *height:expression(eval(document.body.offsetHeight)+\"px\"); background-color: #000; opacity: 0.3; filter:alpha(opacity:30)\\9; z-index: 500000;'></div><div style='box-sizing: border-box; color: #606060; padding: 5px; position:fixed; margin: auto;  _position:absolute; width: 392px; height: 274px; left: 0; *left:50%; *margin-left:-196px; right: 0; top: 0; *top:50%; _top:expression(eval(document.documentElement.scrollTop + document.documentElement.clientHeight/2)+\"px\");*margin-top:-137px; bottom: 0; z-index: 500002; border: 1px solid #e7e7e7; background-color: #f1f2f2; overflow-y:hidden;'><div style='box-sizing: border-box; height: 264px; padding: 15px; border: 1px solid #e7e7e7; background-color: #fff;'><img src='"+
a.resourcesPath+"/logo.gif'><div style='font-size: 12px; color: #0000ed; position: absolute; right: 15px; top: 15px; cursor: pointer; text-decoration: none;' onclick='document.getElementById(\"dbrdlg"+e+'").style.display="none"\'>X</div>'+b+"</div></div>"+(dynamsoft.navInfo.bIE&&6>=parseInt(dynamsoft.navInfo.strBrowserVersion)?"<iframe frameborder=0 style='position:absolute; left:0; top:0; width: 100%; height:expression(eval(document.body.offsetHeight)+\"px\"); filter:alpha(opacity:0); z-index: 499999;'></iframe>":
"")+"</div>";return h.childNodes[0]}if(!a._initLoaded){var r=!1;a._urlRoot=b();var v=0,t=a.EnumDBRErrorCode,D=a._DBRErrorStr,G=null,w=null,x=!0;a.init=function(b,h){if(b&&"function"!=typeof b)throw"init(onSuccess, onError): Argument 'onSuccess' must be a function. ";if(h&&"function"!=typeof h)throw"init(onSuccess, onError): Argument 'onError' must be a function. ";null==G&&(dynamsoft.initOrder=dynamsoft.initOrder||[],dynamsoft.initOrder.push("dbr"),G=setInterval(function(){dynamsoft.initOrder&&"dbr"==
dynamsoft.initOrder[0]&&(x=!0,dynamsoft.initOrder.shift(),clearInterval(G),a.ifShowLoadingImg&&n(),a._connectDWAS(b,h))},100))};var g=null,n=function(){if(g)g.style.display="";else{var b=document.createElement("div");b.innerHTML="<div style='position:absolute; left: 0; top: 0; width: 100%; height: 100%; z-index:500000'><div style='position: absolute; left: 0; top: 0; width: 100%; height: 100%; *height:expression(eval(document.body.offsetHeight)+\"px\"); background-color: #000; opacity: 0.3; filter:alpha(opacity:30)\\9; z-index: 500000;'></div><img src='"+
a.resourcesPath+"/loading.gif' style='position:fixed;margin:auto;left:0;top:0;right:0;bottom:0;*left:50%;*top:50%;width:64px;height:64px;*margin-left:-32px;*margin-top:-32px;_position:absolute;_top:expression(eval(document.documentElement.scrollTop + document.documentElement.clientHeight/2));z-index: 500002;'>"+(dynamsoft.navInfo.bIE&&6>=parseInt(dynamsoft.navInfo.strBrowserVersion)?"<iframe frameborder=0 style='position:absolute; left:0; top:0; width: 100%; height:expression(eval(document.body.offsetHeight)+\"px\"); filter:alpha(opacity:0); z-index: 499999;'></iframe>":
"")+"</div>";g=b.childNodes[0];document.body.appendChild(g)}},m=function(){g&&(g.style.display="none")},z=0;a._connectDWAS=function(b,h){z>=a.maxInitConnDwasTimes?(z=0,G=null,m(),h(t.ConnectDwasFailed,D[t.ConnectDwasFailed])):(dynamsoft.dcpV2.versionInfo(function(g,d,q){if(dynamsoft.dcpV2.detect.bConnected){if(a.ifShowLogWhenConnSuccess&&"undefined"!=typeof console)try{var p=l.parse(g);console.log(p.result[0]+" "+p.result[1])}catch(M){console.log(g)}w&&(w.style.display="none");r=!!dynamsoft.dcpV2.detect.curPortIndex;
z=0;a.ifShowLoadingImg&&n();a._loadModule(b,h)}else m(),x&&(w?w.style.display="":(w=e("<style>.btn-dbr-download-dwas:hover{background-position: 0 -34px;} .btn-dbr-download-dwas:active{background-position: 0 -68px;}</style><div style='font-weight: bold;'>Dynamsoft Service is not installed</div><div style='text-align: center; padding: 20px 0;'><a class='btn-dbr-download-dwas' href='"+a.resourcesPath+"/DynamsoftServiceSetup.exe?t="+(new Date).getTime()+"&filename=DynamsoftServiceSetup.exe' target='_blank' style=\"display: inline-block; background-image: url('"+
a.resourcesPath+"/btn-download.png'); background-repeat: no-repeat; width: 180px; height: 34px; position: relative; margin: 0 auto; cursor: pointer;\"></a><div style='margin-top: 5px; font-style: italic; font-size: 12px;'>* Please manually install it</div></div><div style='font-size: 14px; line-height: 25px;'>If you still see the dialog after the installation, please check this <a style='text-decoration:none;color:#f58831;' href='http://kb.dynamsoft.com/questions/923' target='_blank'>article</a> for troubleshooting.</div>"),
document.body.appendChild(w)),x=!1),setTimeout(function(){a._connectDWAS(b,h)},a.continConnInterval)}),++z)};a._loadModule=function(g,h){a._urlRoot=b();r=!r;l.ajax({method:"POST",url:a._urlRoot+"VersionInfo",data:l.stringify({method:"VersionInfo"}),onSuccess:function(b,d,h){var e;try{e=b.result[0],e=e.replace(/\s+/g,"").replace(/,/g,".")}catch(M){}if(a.ifShowLogWhenConnSuccess&&"undefined"!=typeof console)try{console.log(b.result[0]+" "+b.result[1])}catch(M){console.log(b)}a.versionInfo="JS version: "+
a.version+", Dll version: "+e;v=0;G=null;m();g&&g(b,d,h)},onError:function(b,d,l){1==v?(b=a.resourcesPath+"/"+(dynamsoft.navInfo.bMac?"Mac":"Win")+"DBR_"+a.version+".zip?t="+(new Date).getTime(),a._download(b,!0,function(b,d,l){dynamsoft.dcpV2.loadZip(b,100,function(){setTimeout(function(){a._loadModule(g,h)},a.continConnInterval)},function(b,d,g){a.ifShowDialogWhenModuleLoadFail&&document.body.appendChild(e("<p style='margin-top:30px'>"+D[t.SendDBRModuleFailed]+" Network status: "+g.status+"</p>"));
v=0;G=null;m();h&&h(t.SendDBRModuleFailed,D[t.SendDBRModuleFailed])})},function(b,d,g){a.ifShowDialogWhenModuleLoadFail&&document.body.appendChild(e("<p style='margin-top:30px'>"+D[t.DownloadDBRModuleFailed]+" Network status: "+g.status+(404==g.status?"":0==g.status?". It might be a cross origin requests from 'file://'. The site must be deployed on a web server to download DbrModule zip. ":"")+"</p>"));v=0;G=null;m();h&&h(t.DownloadDBRModuleFailed,D[t.DownloadDBRModuleFailed])},null),++v):(++v,v>=
a.maxInitConnDbrTimes?(v=0,G=null,m(),h&&h(t.ConnectDBRModuleFailed,D[t.ConnectDBRModuleFailed])):setTimeout(function(){a._loadModule(g,h)},a.continConnInterval))},dataType:"json",async:!0,timeout:a.qTaskTimeout})};a.isAutoInit&&a.init(null,function(){alert("DBR init fail.")});a._initLoaded=!0}})(dynamsoft.dbrEnv,dynamsoft.lib);
(function(a,l){a._enumLoaded||(a.EnumBarcodeFormat={EBF_All:0,EBF_OneD:1023,EBF_CODE_39:1,EBF_CODE_128:2,EBF_CODE_93:4,EBF_CODABAR:8,EBF_ITF:16,EBF_EAN_13:32,EBF_EAN_8:64,EBF_UPC_A:128,EBF_UPC_E:256,EBF_INDUSTRIAL_25:512,EBF_PDF417:33554432,EBF_QR_CODE:67108864,EBF_DATAMATRIX:134217728},a.EnumImageCaptureDevice={EICD_Unknown:0,EICD_Scanner:1,EICD_Camera:2,EICD_Fax:3},a.EnumBarcodeColorMode={EBCM_DarkOnLight:0,EBCM_LightOnDark:1,EBCM_DarkAndLight:2},a.EnumBarcodeTextEncoding={EBTE_Default:0,EBTE_SHIFT_JIS_932:932,
EBTE_GB2312_936:936,EBTE_Korean_949:949,EBTE_BIG5_950:950,EBTE_UTF16:1200,EBTE_UTF16BE:1201,EBTE_UTF8:65001},a.EnumBarcodeOrientationType={EBOT_Horizontal:0,EBOT_Vertical:1},a.EnumScanRegionSide={ESRS_Left:0,ESRS_Top:1,ESRS_Right:2,ESRS_Bottom:3},a._EnumDataStoreType={Binary:0,Base64:1,InnerUrl:4E3},a._EnumImageType={Unknown:0,BMP:1,JPG:2,TIF:3,PNG:4,PDF:5,GIF:1001,Invalid:-1},a._getImageMimeTypeFromStr=function(b){var e=a._EnumImageType;switch(b){case "":case "application/octet-stream":return e.Unknown;
case "image/bmp":return e.BMP;case "image/jpeg":return e.JPG;case "image/tiff":return e.TIF;case "image/png":return e.PNG;case "application/pdf":return e.PDF;case "image/gif":return e.GIF;default:return e.Invalid}},a._getImageTypeFromBinary=function(b){if("undefined"!=typeof Blob&&b instanceof Blob)return a._getImageMimeTypeFromStr(b.type);var e;if(b.byteLength&&b.slice)b=7<b.byteLength?b.slice(0,7):b,e=new Uint8Array(b);else if(b.length&&b.slice)e=7<b.length?b.slice(0,7):b;else if(b.length&&b.subarray)e=
7<b.length?b.subarray(0,7):b;else return a._EnumImageType.Unknown;b="";for(var l=0;l<e.length;++l){var v=e[l].toString(16);1==v.length&&(v="0"+v);b+=v}e=a._EnumImageType;return 0==b.indexOf("424d")?e.BMP:0==b.indexOf("ffd8ff")?e.JPG:0==b.indexOf("49492a00")?e.TIF:0==b.indexOf("89504e47")?e.PNG:0==b.indexOf("255044462d312e")?a._EnumImageType.PDF:0==b.indexOf("47494638")?e.GIF:e.Invalid},a._isInEnum=function(a,e){for(var b in e)if(e[b]===a)return!0;return!1},a._enumLoaded=!0)})(dynamsoft.dbrEnv,dynamsoft.lib);
(function(a,l){function b(a){return"number"==typeof a&&-2147483648<=a&&2147483647>=a&&0===a%1}function e(a){return"number"==typeof a&&0<=a&&2147483647>=a&&0===a%1}function r(a){return"number"==typeof a&&1<=a&&2147483647>=a&&0===a%1}function v(a,b,d,e,g){this.Left=a;this.Top=b;this.Right=d;this.Bottom=e;this.ByPercentage=g?1:0}function t(a,b){this.MinAngle=a;this.MaxAngle=b}function D(b){var e,d;a._download(b,!1,function(a,b,d){e=a},function(a,b,e){d={};d.wrapedXhr=e},null);if(d)throw d;return e}function G(b,
e,d){a._download(b,!0,e,d,null)}function w(a,b,d){"undefined"!=typeof ArrayBuffer&&a instanceof ArrayBuffer&&(a=new Uint8Array(a));if("undefined"!=typeof Uint8Array&&a instanceof Uint8Array||a instanceof Array){var e=null;try{e=l.BASE64.fromByteArray(a)}catch(M){}if(b)d(e);else return e}else if("undefined"!=typeof Blob&&a instanceof Blob&&b){var h=new FileReader;(function(a){h.onload=function(b){b=b.target.result;a(b.substr(b.indexOf(",")+1))}})(d);h.readAsDataURL(a)}else if(b)b&&d(null);else return null}
function x(b){b=12<b.length?b.slice(0,12):b;var e;try{e=l.BASE64.toByteArray(b)}catch(d){return!1}e=a._getImageTypeFromBinary(e);return e!=a._EnumImageType.Invalid&&e!=a._EnumImageType.PDF?!0:!1}function g(b){b=a._getImageTypeFromBinary(b);return b!=a._EnumImageType.Invalid&&b!=a._EnumImageType.PDF?!0:!1}function n(a){switch(a){case 0:case m.LicenseExpired:case m.LicenseQRInvalid:case m.License1DInvalid:case m.LicensePDF417Invalid:case m.LicenseDataMatrixInvalid:return!1;default:return!0}}if(!a._barcodeReaderLoaded){var m=
a.EnumDBRErrorCode,z=a._DBRErrorStr,q=function(){this.useOneDDeblur=!0;this.imageCaptureDevice=a.EnumImageCaptureDevice.EICD_Unknown;this.barcodeFormats=a.EnumBarcodeFormat.EBF_All;this.timeoutPerPage=this.maxBarcodesNumPerPage=2147483647;this.barcodeColorMode=a.EnumBarcodeColorMode.EBCM_DarkOnLight;this.barcodeTextEncoding=a.EnumBarcodeTextEncoding.EBTE_Default;this.Pages=[];this.Regions=[];this.AngleRanges=[];this.errorCode=m.OK;this.errorStr=z[m.OK]};q.prototype.readBinary=function(b){if(1>arguments.length)return this._setError(m.ParameterNumberUnmatched),
null;if("undefined"==typeof Blob||!(b instanceof Blob))return this._setError(m.TypeNotValid,["blob"]),null;var e=(new Date).getTime();if(!this._checkAndRepairOption())return null;if(!g(b))return this._setError(m.FileTypeNotSupported),null;var d={method:"ReadBarcode",parameter:[a.productKey,a._EnumDataStoreType.Binary,null,this._toServiceStr()]},d=a._urlRoot+"ReadBarcode/LoadZipFromBytes?cmd="+encodeURIComponent(l.stringify(d)),h=null,q,r;l.ajax({method:"POST",url:d,data:b,onSuccess:function(b,d,g){b=
l.parse(b);!1===b?q=m.JsonParseFailed:(q=b.exception,r=[b.description],n(b.exception)||(h=new a.ReadResult(b,e)))},onError:function(a,b,d){q=m.HttpError;r=[d.status]},dataType:"text",async:!1});this._setError(q,r);return h};q.prototype.readBinaryAsync=function(b,e,d,q){return function(b,d,e,h,p){if(4>arguments.length)return b._setError(m.ParameterNumberUnmatched),!1;if("function"!=typeof p)return b._setError(m.TypeNotValid,["asyncFailureFunc"]),!1;if("undefined"==typeof Blob||!(d instanceof Blob))return b._setError(m.TypeNotValid,
["blob"],p,e),!1;if("function"!=typeof h)return b._setError(m.TypeNotValid,["asyncSuccessFunc"],p,e),!1;var q=(new Date).getTime();if(!b._checkAndRepairOption(p,e,!0))return!0;if(!g(d))return b._setThrowDisbleError(m.FileTypeNotSupported,null,p,e),!0;var r={method:"ReadBarcode",parameter:[a.productKey,a._EnumDataStoreType.Binary,null,b._toServiceStr()]},r=a._urlRoot+"ReadBarcode/LoadZipFromBytes?cmd="+encodeURIComponent(l.stringify(r));l.ajax({method:"POST",url:r,data:d,onSuccess:function(d,g,r){d=
l.parse(d);!1===d&&(d={},d.exception=m.JsonParseFailed);b._setThrowDisbleError(d.exception,[d.description],p,e);n(d.exception)||(d=new a.ReadResult(d,q),h(e,d))},onError:function(a,d,h){b._setThrowDisbleError(m.HttpError,[h.status],p,e)},dataType:"text",async:!0});return!0}(this,b,e,d,q)};q.prototype.readURL=function(b){if(1>arguments.length)return this._setError(m.ParameterNumberUnmatched),null;if("string"!=typeof b)return this._setError(m.TypeNotValid,["imageUrl"]),null;if(0==b.length)return this._setError(m.ValueNotValid,
["imageUrl"]),null;var e=(new Date).getTime();b=l.trim(b);if(!this._checkAndRepairOption())return null;var d=0==b.indexOf("dwt://")||0==b.indexOf("dcs://"),h,g;if(!d){try{h=D(b)}catch(N){return this._setError(m.HttpError,[N.wrapedXhr.status]),null}g=w(h)}var q=a._urlRoot+"ReadBarcode",r={method:"ReadBarcode",parameter:[a.productKey,null,null,this._toServiceStr()]};if(d)r.parameter[1]=a._EnumDataStoreType.InnerUrl,r.parameter[2]=b,d=l.stringify(r);else if(g){if(!x(g))return this._setError(m.FileTypeNotSupported),
null;r.parameter[1]=a._EnumDataStoreType.Base64;r.parameter[2]=g;d=l.stringify(r)}else if("unknown"==typeof h)r.parameter[1]=a._EnumDataStoreType.Binary,q+="/LoadZipFromBytes?cmd="+encodeURIComponent(l.stringify(r)),d=h;else return this._setError(m.ValueNotValid,["imageUrl"]),null;var t=null,v,A;l.ajax({method:"POST",url:q,data:d,onSuccess:function(b,d,h){b=l.parse(b);!1===b?v=m.JsonParseFailed:(v=b.exception,A=[b.description],n(b.exception)||(t=new a.ReadResult(b,e)))},onError:function(a,b,d){v=
m.HttpError;A=[d.status]},dataType:"text",async:!1});this._setError(v,A);return t};q.prototype.readURLAsync=function(b,e,d,g){return function(b,d,e,h,g){if(4>arguments.length)return b._setError(m.ParameterNumberUnmatched),!1;if("function"!=typeof g)return b._setError(m.TypeNotValid,["asyncFailureFunc"]),!1;if("string"!=typeof d)return b._setError(m.TypeNotValid,["imageUrl"],g,e),!1;if(0==d.length)return b._setError(m.ValueNotValid,["imageUrl"],g,e),!1;if("function"!=typeof h)return b._setError(m.TypeNotValid,
["asyncSuccessFunc"],g,e),!1;var p=(new Date).getTime();d=l.trim(d);if(!b._checkAndRepairOption(g,e,!0))return!0;var q=0==d.indexOf("dwt://")||0==d.indexOf("dcs://"),r={method:"POST",url:a._urlRoot+"ReadBarcode",data:null,onSuccess:function(d,q,r){d=l.parse(d);!1===d&&(d={},d.exception=m.JsonParseFailed);b._setThrowDisbleError(d.exception,[d.description],g,e);n(d.exception)||(d=new a.ReadResult(d,p),h(e,d))},onError:function(a,d,h){b._setThrowDisbleError(m.HttpError,[h.status],g,e)},dataType:"text",
async:!0},t={method:"ReadBarcode",parameter:[a.productKey,null,null,b._toServiceStr()]};q?(t.parameter[1]=a._EnumDataStoreType.InnerUrl,t.parameter[2]=d,r.data=l.stringify(t),l.ajax(r)):G(d,function(d,h,p){w(d,!0,function(h){h?x(h)?(t.parameter[1]=a._EnumDataStoreType.Base64,t.parameter[2]=h,r.data=l.stringify(t),l.ajax(r)):b._setThrowDisbleError(m.FileTypeNotSupported,null,g,e):"unknown"==typeof d?(t.parameter[1]=a._EnumDataStoreType.Binary,r.url+="/LoadZipFromBytes?cmd="+encodeURIComponent(l.stringify(t)),
r.data=d,l.ajax(r)):b._setThrowDisbleError(m.ValueNotValid,["imageUrl"],g,e)})},function(a,d,h){b._setThrowDisbleError(m.HttpError,[h.status],g,e)});return!0}(this,b,e,d,g)};q.prototype.readBase64=function(b){if(1>arguments.length)return this._setError(m.ParameterNumberUnmatched),null;if("string"!=typeof b)return this._setError(m.TypeNotValid,["base64img"]),null;if(0==b.length)return this._setError(m.ValueNotValid,["base64img"]),null;var e=(new Date).getTime();b=l.trim(b);if(!this._checkAndRepairOption())return null;
if(!x(b))return this._setError(m.FileTypeNotSupported,["base64img"]),null;var d,h,g;l.ajax({method:"POST",url:a._urlRoot+"ReadBarcode",data:l.stringify({method:"ReadBarcode",parameter:[a.productKey,a._EnumDataStoreType.Base64,b,this._toServiceStr()]}),onSuccess:function(b,p,q){b=l.parse(b);!1===b?h=m.JsonParseFailed:(h=b.exception,g=[b.description],n(b.exception)||(d=new a.ReadResult(b,e)))},onError:function(a,b,d){h=m.HttpError;g=[d.status]},dataType:"text",async:!1});this._setError(h,g);return d};
q.prototype.readBase64Async=function(b,e,d,g){return function(b,d,e,h,g){if(4>arguments.length)return b._setError(m.ParameterNumberUnmatched),!1;if("function"!=typeof g)return b._setError(m.TypeNotValid,["asyncFailureFunc"]),!1;if("string"!=typeof d)return b._setError(m.TypeNotValid,["base64img"],g,e),!1;if(0==d.length)return b._setError(m.ValueNotValid,["base64img"],g,e),!1;if("function"!=typeof h)return b._setError(m.TypeNotValid,["asyncSuccessFunc"],g,e),!1;var p=(new Date).getTime();d=l.trim(d);
if(!b._checkAndRepairOption(g,e,!0))return!0;if(!x(d))return b._setThrowDisbleError(m.FileTypeNotSupported,null,g,e),!0;l.ajax({method:"POST",url:a._urlRoot+"ReadBarcode",data:l.stringify({method:"ReadBarcode",parameter:[a.productKey,a._EnumDataStoreType.Base64,d,b._toServiceStr()]}),onSuccess:function(d,q,r){d=l.parse(d);!1===d&&(d={},d.exception=m.JsonParseFailed);b._setThrowDisbleError(d.exception,[d.description],g,e);n(d.exception)||(d=new a.ReadResult(d,p),h(e,d))},onError:function(a,d,h){b._setThrowDisbleError(m.HttpError,
[h.status],g,e)},dataType:"text",async:!0});return!0}(this,b,e,d,g)};q.prototype.addPages=function(a){if(1>arguments.length)return this._setError(m.ParameterNumberUnmatched),!1;if(!(a instanceof Array))return this._setError(m.TypeNotValid,["arrPages"]),!1;a=a.slice();for(var b=0;b<a.length;++b){if("number"!=typeof a[b])return this._setError(m.PageNumberInvalid),!1;a[b]=Math.round(a[b]);if(!e(a[b]))return this._setError(m.PageNumberInvalid),!1}this.Pages=this.Pages.concat(a);this.Pages.sort();var d=
[];this.Pages.length&&(d[0]=this.Pages[0]);for(var h=b=1;h<this.Pages.length;++h)this.Pages[h]!=d[b-1]&&(d[b]=this.Pages[h],++b);this.Pages=d;return!0};q.prototype.clearAllPages=function(){this.Pages=[];return!0};q.prototype.addRegion=function(){if(5<=arguments.length){var b=arguments[4];if("boolean"!=typeof b)return this._setError(m.TypeNotValid,["isPercentage"]),!1;for(var g=["left","top","right","bottom"],d=0;4>d;++d){if("number"!=typeof arguments[d])return this._setError(m.TypeNotValid,[g[d]]),
!1;arguments[d]=Math.round(arguments[d]);if(!e(arguments[d])||arguments[4]&&100<arguments[d])return this._setError(m.CustomedRegionInvalid),!1}var g=arguments[0],d=arguments[1],l=arguments[2],n=arguments[3];if(g>=l||d>=n)return this._setError(m.CustomedRegionInvalid),!1;this.Regions.push(new v(g,d,l,n,b));return!0}if(2<=arguments.length){b=arguments[0];g=arguments[1];if("number"!=typeof g)return this._setError(m.TypeNotValid,["percentage"]),!1;g=Math.round(g);if(!r(g)||100<g)return this._setError(m.CustomedRegionInvalid),
!1;d=[0,0,100,100,!0];l=!0;n=a.EnumScanRegionSide;b===n.ESRS_Left?d[2]=g:b===n.ESRS_Top?d[3]=g:b===n.ESRS_Right?d[0]=100-g:b===n.ESRS_Bottom?d[1]=100-g:l=!1;if(!l)return this._setError(m.CustomedRegionInvalid),!1;this.Regions.push(new v(d[0],d[1],d[2],d[3],d[4]));return!0}this._setError(m.ParameterNumberUnmatched);return!1};q.prototype.clearAllRegions=function(){this.Regions=[];return!0};q.prototype.addAngleRange=function(a,e){if(2>arguments.length)return this._setError(m.ParameterNumberUnmatched),
!1;if("number"!=typeof a)return this._setError(m.TypeNotValid,["fromAngle"]),!1;if("number"!=typeof e)return this._setError(m.TypeNotValid,["toAngle"]),!1;a=Math.round(a);e=Math.round(e);if(!b(a))return this._setError(m.ValueNotValid,["fromAngle"]),!1;if(!b(e))return this._setError(m.ValueNotValid,["toAngle"]),!1;this.AngleRanges.push(new t(a,e));return!0};q.prototype.addAngle=function(b){if(1>arguments.length)return this._setError(m.ParameterNumberUnmatched),!1;if(b==a.EnumBarcodeOrientationType.EBOT_Horizontal)return this.AngleRanges.push(new t(315,
45)),this.AngleRanges.push(new t(135,225)),!0;if(b==a.EnumBarcodeOrientationType.EBOT_Vertical)return this.AngleRanges.push(new t(45,135)),this.AngleRanges.push(new t(225,315)),!0;this._setError(m.ValueNotValid,["emType"]);return!1};q.prototype.clearAllAngles=function(){this.AngleRanges=[];return!0};q.prototype._checkAndRepairOption=function(b,e,d){if("number"!=typeof this.barcodeFormats)return this._setError(m.TypeNotValid,["barcodeFormats"],b,e,d),!1;var h=this.barcodeFormats=Math.round(this.barcodeFormats);
if(!("number"==typeof h&&0<=h&&4294967295>=h&&0===h%1))return this._setError(m.BarcodeFormatInvalid,null,b,e,d),!1;if("number"!=typeof this.maxBarcodesNumPerPage)return this._setError(m.TypeNotValid,["maxBarcodesNumPerPage"],b,e,d),!1;this.maxBarcodesNumPerPage=Math.round(this.maxBarcodesNumPerPage);if(!r(this.maxBarcodesNumPerPage))return this._setError(m.MaxBarcodeNumberInvalid),!1;if("number"!=typeof this.timeoutPerPage)return this._setError(m.TypeNotValid,["timeoutPerPage"],b,e,d),!1;this.timeoutPerPage=
Math.round(this.timeoutPerPage);if(!r(this.timeoutPerPage))return this._setError(m.ValueNotValid,["timeoutPerPage"],b,e,d),!1;if(1==this.useOneDDeblur)this.useOneDDeblur=!0;else if(0==this.useOneDDeblur)this.useOneDDeblur=!1;else return this._setError(m.ValueNotValid,["useOneDDeblur"],b,e,d),!1;return a._isInEnum(this.imageCaptureDevice,a.EnumImageCaptureDevice)?a._isInEnum(this.barcodeColorMode,a.EnumBarcodeColorMode)?a._isInEnum(this.barcodeTextEncoding,a.EnumBarcodeTextEncoding)?!0:(this._setError(m.ValueNotValid,
["barcodeTextEncoding"],b,e,d),!1):(this._setError(m.ValueNotValid,["barcodeColorMode"],b,e,d),!1):(this._setError(m.ValueNotValid,["imageCaptureDevice"],b,e,d),!1)};q.prototype._toServiceStr=function(){var a={};a.UseOneDDeblur=this.useOneDDeblur?1:0;a.ImageCaptureDevice=this.imageCaptureDevice;a.BarcodeFormats=this.barcodeFormats;a.MaxBarcodesNumPerPage=this.maxBarcodesNumPerPage;a.TimeoutPerPage=this.timeoutPerPage;a.BarcodeColorMode=this.barcodeColorMode;a.BarcodeTextEncoding=this.barcodeTextEncoding;
a.Pages=this.Pages;a.Regions=this.Regions;a.AngleRanges=this.AngleRanges;return'"'+l.stringify(a).replace(/"/g,"'")+'"'};q.prototype._setError=function(a,b,d,e,g){var h=z[a];"undefined"==typeof h&&(b.unshift(a),a=m.ServiceInternalError,h=z[a]);this.errorCode=a;if("undefined"!=typeof b&&null!=b)if(b instanceof Array)for(var l=0;l<b.length;++l)h=h.replace("{"+l+"}",b[l]);else"string"==typeof b&&(h=b);this.errorStr=h;if(n(a)){if(!g&&dynamsoft.dbrEnv.ifThrowException)throw Error(h);d&&d(e,a,h)}};q.prototype._setThrowDisbleError=
function(a,b,d,e){this._setError(a,b,d,e,!0)};q.prototype.getErrorCode=function(){return this.errorCode};q.prototype.getErrorString=function(){return this.errorStr};a.BarcodeReader=q;a._barcodeReaderLoaded=!0}})(dynamsoft.dbrEnv,dynamsoft.lib);
(function(a,l){if(!a._readResultLoaded){var b=function(a,b){this.length=0;if(a.result instanceof Array)if(dynamsoft.navInfo.bIE&&9>=parseInt(dynamsoft.navInfo.strBrowserVersion))for(var e=0;e<a.result.length;++e)this[e]=a.result[e],++this.length;else for(e=0;e<a.result.length;++e)this.push(a.result[e]);this.exception=a.exception;this.description=a.description;this.readTime=a.duration?a.duration:0;this.totalTime=(new Date).getTime()-b};if(!(dynamsoft.navInfo.bIE&&9>=parseInt(dynamsoft.navInfo.strBrowserVersion))){var e=
function(){};e.prototype=Array.prototype;b.prototype=new e}b.prototype.constructor=b;b.prototype.getCount=function(){return this.length};b.prototype.get=function(a){return this[a]};a.ReadResult=b;a._readResultLoaded=!0}})(dynamsoft.dbrEnv,dynamsoft.lib);
